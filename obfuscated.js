const _0x508237=_0x476b;function _0x476b(_0x4d5705,_0x5ea3f6){const _0xb4456=_0xb445();return _0x476b=function(_0x476ba6,_0x3f8a44){_0x476ba6=_0x476ba6-0xc6;let _0x335d45=_0xb4456[_0x476ba6];return _0x335d45;},_0x476b(_0x4d5705,_0x5ea3f6);}(function(_0x41e085,_0x46f29d){const _0x57fa18=_0x476b,_0x57f479=_0x41e085();while(!![]){try{const _0x2708c4=-parseInt(_0x57fa18(0xf7))/0x1*(parseInt(_0x57fa18(0x115))/0x2)+parseInt(_0x57fa18(0xdd))/0x3+-parseInt(_0x57fa18(0x105))/0x4*(parseInt(_0x57fa18(0x12d))/0x5)+parseInt(_0x57fa18(0xda))/0x6+parseInt(_0x57fa18(0x14e))/0x7*(-parseInt(_0x57fa18(0x103))/0x8)+-parseInt(_0x57fa18(0x110))/0x9+parseInt(_0x57fa18(0xdc))/0xa;if(_0x2708c4===_0x46f29d)break;else _0x57f479['push'](_0x57f479['shift']());}catch(_0x210d70){_0x57f479['push'](_0x57f479['shift']());}}}(_0xb445,0xd54f6));const canvas=document['querySelector'](_0x508237(0x12c)),c=canvas['getContext']('2d'),uWidth=0x9c4,uHeight=0x9c4,fps=0x3c,fpsInterval=0x3e8/fps,ratio=Math[_0x508237(0xf1)](innerWidth/uWidth,innerHeight/uHeight)*0.98;ratio<0x1?(canvas[_0x508237(0x128)]=uWidth*ratio,canvas[_0x508237(0x11e)]=uHeight*ratio,c[_0x508237(0xfa)](ratio,ratio)):(canvas['width']=uWidth,canvas['height']=uHeight);let touchScreen=![];const windMargin=0x3e8,bombDuration=0x4e20,waveNumber=0x32,cloudNumber=0xf;let gameCondition='welcome',preTransition=!![],currentFrame=0x0,playedTimes=0x0,hitWinds=[],winds=[],bombs=[],waves=[],bubbles=[],clouds=[],lastTime=[0x0,0x0,0x0],bestTime=[0x0,0x0,0x0],startTime,endTime,player,target,mousedownPosition,touchstartPosition,losePicture,playerPre,tugboat,bombLength,windLength,minute,second,millisecond,secStr,millisecStr,minStr,displayStr,lastTimeStr,bestTimeStr;var timeNow=performance[_0x508237(0xf5)]();let timeThen=timeNow,timeLast=timeNow;class Location{constructor({position:_0x13e07c}){const _0x3225f7=_0x508237;this[_0x3225f7(0xfd)]=_0x13e07c;}}class Wave{constructor({x:_0x520b5c,y:_0xcbd6ed,waveLength:_0x5c446e,speed:_0x14db2e}){const _0x284dba=_0x508237;this['x']=_0x520b5c,this['y']=_0xcbd6ed,this[_0x284dba(0xeb)]=_0x5c446e,this['speed']=_0x14db2e;}}class StillImage{constructor({x:_0x473f84,y:_0x399d13,width:_0xb49b55,height:_0x5d543a,imageSrc:_0x1289cf}){const _0x23d346=_0x508237;this['x']=_0x473f84,this['y']=_0x399d13,this[_0x23d346(0x128)]=_0xb49b55,this[_0x23d346(0x11e)]=_0x5d543a,this[_0x23d346(0xe5)]=new Image(),this[_0x23d346(0xe5)]['src']=_0x1289cf;}[_0x508237(0xd2)](){const _0x3f89ff=_0x508237;c[_0x3f89ff(0xfb)](this[_0x3f89ff(0xe5)],this['x'],this['y'],this[_0x3f89ff(0x128)],this[_0x3f89ff(0x11e)]);}}class Sprite{constructor({position:_0x3ec14f}){const _0x3b1475=_0x508237;this['position']=_0x3ec14f,this[_0x3b1475(0xfa)]=0x1,this['frames']=0x1,this[_0x3b1475(0xe6)]=0x1,this['frameSlow']=0x8,this['frameWidth']=0x1;}[_0x508237(0xd2)](){const _0x4b960e=_0x508237;c[_0x4b960e(0xfb)](this[_0x4b960e(0xe5)],Math[_0x4b960e(0x13f)](this[_0x4b960e(0xe6)]%(this[_0x4b960e(0xef)]*this[_0x4b960e(0x10e)])/this[_0x4b960e(0x10e)])*this[_0x4b960e(0x142)],0x0,this[_0x4b960e(0x142)],this[_0x4b960e(0xe5)]['height'],this[_0x4b960e(0xfd)]['x']-this['frameWidth']*this[_0x4b960e(0xfa)]/0x2,this[_0x4b960e(0xfd)]['y']-this[_0x4b960e(0xe5)][_0x4b960e(0x11e)]*this[_0x4b960e(0xfa)]/0x2,this[_0x4b960e(0x142)]*this[_0x4b960e(0xfa)],this[_0x4b960e(0xe5)]['height']*this[_0x4b960e(0xfa)]),this['frameCurrent']++;}}class Cloud{constructor({position:_0x25e5a3}){const _0x4c0d28=_0x508237;this[_0x4c0d28(0xfd)]=_0x25e5a3,this['scale']=Math[_0x4c0d28(0x119)]()*0.8+0.2,this['frames']=0xa,this[_0x4c0d28(0x142)]=0x3e8,this['n']=Math[_0x4c0d28(0x13f)](Math['random']()*0xa),this['speed']=(_0x25e5a3['y']/0x9c4/0x3+this[_0x4c0d28(0xfa)]/0x2)/0x2,this[_0x4c0d28(0xe5)]=new Image(),this[_0x4c0d28(0xe5)][_0x4c0d28(0xdb)]=_0x4c0d28(0xf3);}['draw'](){const _0x23e179=_0x508237;c[_0x23e179(0xfb)](this[_0x23e179(0xe5)],this['n']*this[_0x23e179(0x142)],0x0,this[_0x23e179(0x142)],this[_0x23e179(0xe5)][_0x23e179(0x11e)],this[_0x23e179(0xfd)]['x']-this[_0x23e179(0x142)]*this['scale']/0x2,this[_0x23e179(0xfd)]['y']-this[_0x23e179(0xe5)]['height']*this[_0x23e179(0xfa)]/0x2,this[_0x23e179(0x142)]*this[_0x23e179(0xfa)],this[_0x23e179(0xe5)][_0x23e179(0x11e)]*this['scale']);}[_0x508237(0x152)](){const _0x13c214=_0x508237;this[_0x13c214(0xfd)]['x']-=this['speed'],this[_0x13c214(0xd2)]();}}class Wind extends Sprite{constructor({position:_0x492965,radius:_0xbf142}){const _0x2725b3=_0x508237;super({'position':_0x492965}),this[_0x2725b3(0x11f)]=_0xbf142,this[_0x2725b3(0x154)]=0x5,this[_0x2725b3(0xd4)]=Math[_0x2725b3(0xd1)](player[_0x2725b3(0xfd)]['y']-this[_0x2725b3(0xfd)]['y'],player['position']['x']-this['position']['x'])+(Math[_0x2725b3(0x119)]()-0.5),this['image']=new Image(),this[_0x2725b3(0xe5)][_0x2725b3(0xdb)]=_0x2725b3(0xc6),this[_0x2725b3(0xfa)]=0x4/0x9,this['frames']=0x2,this[_0x2725b3(0xe6)]=0x1,this[_0x2725b3(0x10e)]=0xf,this[_0x2725b3(0x142)]=0x1c2;}[_0x508237(0x152)](){const _0x3ed394=_0x508237;this[_0x3ed394(0xfd)]['x']+=this[_0x3ed394(0x154)]*Math[_0x3ed394(0x155)](this[_0x3ed394(0xd4)]),this[_0x3ed394(0xfd)]['y']+=this[_0x3ed394(0x154)]*Math[_0x3ed394(0x102)](this[_0x3ed394(0xd4)]),this[_0x3ed394(0xd2)]();}}class Jumbo extends Sprite{constructor({position:_0x4b911e,radius:_0x23f242,motions:_0x28998d}){const _0xf2ea1d=_0x508237;super({'position':_0x4b911e}),this['radius']=_0x23f242,this[_0xf2ea1d(0xc8)]=_0x28998d;for(const _0x4cb2d3 in this['motions']){_0x28998d[_0x4cb2d3][_0xf2ea1d(0xe5)]=new Image(),_0x28998d[_0x4cb2d3][_0xf2ea1d(0xe5)][_0xf2ea1d(0xdb)]=_0x28998d[_0x4cb2d3][_0xf2ea1d(0xd5)];}this[_0xf2ea1d(0xe6)]=0x1;}[_0x508237(0x12b)](){const _0x12cc0a=_0x508237;this[_0x12cc0a(0xe5)]=this[_0x12cc0a(0xf8)][_0x12cc0a(0xe5)],this['image']['src']=this[_0x12cc0a(0xf8)][_0x12cc0a(0xd5)],this[_0x12cc0a(0xfa)]=this[_0x12cc0a(0xf8)][_0x12cc0a(0xfa)],this['frames']=this[_0x12cc0a(0xf8)]['frames'],this[_0x12cc0a(0x142)]=this['currentMotion'][_0x12cc0a(0x142)],this[_0x12cc0a(0x10e)]=this['currentMotion'][_0x12cc0a(0x10e)];}[_0x508237(0x11d)](){const _0x666f0=_0x508237;if(gameCondition==_0x666f0(0x131))this[_0x666f0(0xf8)]=this['motions']['sink'];else gameCondition==_0x666f0(0xca)&&(this['currentMotion']=this['motions'][_0x666f0(0x139)]);this[_0x666f0(0x12b)]();}[_0x508237(0x152)](){const _0x2985a8=_0x508237;gameCondition=='play'&&(this[_0x2985a8(0x154)]=0x5*Math[_0x2985a8(0x136)](Math[_0x2985a8(0x13a)](distance(this[_0x2985a8(0xfd)],target[_0x2985a8(0xfd)])/0x64)),this[_0x2985a8(0xd4)]=Math['atan2'](target[_0x2985a8(0xfd)]['y']-this[_0x2985a8(0xfd)]['y'],target['position']['x']-this[_0x2985a8(0xfd)]['x']),this['position']['x']+=this['speed']*Math[_0x2985a8(0x155)](this[_0x2985a8(0xd4)]),this[_0x2985a8(0xfd)]['y']+=this[_0x2985a8(0x154)]*Math[_0x2985a8(0x102)](this[_0x2985a8(0xd4)])),this['draw'](),gameCondition==_0x2985a8(0x131)&&this['frameCurrent']>=this[_0x2985a8(0xc8)][_0x2985a8(0xe9)]['frames']*this[_0x2985a8(0xc8)][_0x2985a8(0xe9)][_0x2985a8(0x10e)]&&setLose();}}class Ship extends Sprite{constructor({position:_0x5e60f1,motions:_0x357875}){const _0x2beb8a=_0x508237;super({'position':_0x5e60f1}),this['motions']=_0x357875;for(const _0x306a5a in this[_0x2beb8a(0xc8)]){_0x357875[_0x306a5a][_0x2beb8a(0xe5)]=new Image(),_0x357875[_0x306a5a]['image'][_0x2beb8a(0xdb)]=_0x357875[_0x306a5a][_0x2beb8a(0xd5)];}}[_0x508237(0x12b)](){const _0x42f572=_0x508237;this[_0x42f572(0xe5)]=this[_0x42f572(0xf8)][_0x42f572(0xe5)],this[_0x42f572(0xe5)]['src']=this[_0x42f572(0xf8)][_0x42f572(0xd5)],this['scale']=this[_0x42f572(0xf8)][_0x42f572(0xfa)],this[_0x42f572(0xef)]=this[_0x42f572(0xf8)][_0x42f572(0xef)],this['frameWidth']=this['currentMotion'][_0x42f572(0x142)],this['frameSlow']=this[_0x42f572(0xf8)][_0x42f572(0x10e)];}}class Attack extends Sprite{constructor({position:_0x38d3eb,imageSrc:_0x203659}){const _0x5d42db=_0x508237;super({'position':_0x38d3eb}),this[_0x5d42db(0xd0)]=performance[_0x5d42db(0xf5)](),this[_0x5d42db(0xe5)]=new Image(),this[_0x5d42db(0xe5)][_0x5d42db(0xdb)]=_0x203659,this[_0x5d42db(0xfa)]=0x4/0x5,this[_0x5d42db(0xef)]=0x4,this[_0x5d42db(0xe6)]=0x1,this[_0x5d42db(0x10e)]=0xa,this[_0x5d42db(0x142)]=0x1f4;}['update'](){const _0x1bc525=_0x508237;if(this[_0x1bc525(0xe6)]<this[_0x1bc525(0x10e)]*this[_0x1bc525(0xef)])this['draw']();}}class Bomb extends Sprite{constructor({position:_0x3cb651,radius:_0xf0e721}){const _0x18d343=_0x508237;super({'position':_0x3cb651}),this[_0x18d343(0x11f)]=_0xf0e721,this[_0x18d343(0xd0)]=performance['now'](),this['image']=new Image(),this[_0x18d343(0xe5)][_0x18d343(0xdb)]=_0x18d343(0xcf),this['scale']=0x4/0x9,this[_0x18d343(0xef)]=0x2,this[_0x18d343(0xe6)]=0x1,this['frameSlow']=0x14,this[_0x18d343(0x142)]=0x1c2;}[_0x508237(0x152)](){const _0x3e856d=_0x508237;let _0x1b93e1=Math[_0x3e856d(0x13a)]((bombDuration-(performance[_0x3e856d(0xf5)]()-this[_0x3e856d(0xd0)]))/0x7d0);if(_0x1b93e1>0x0)c[_0x3e856d(0xe2)]=_0x1b93e1;else c[_0x3e856d(0xe2)]=0x0;this[_0x3e856d(0xd2)](),c[_0x3e856d(0xe2)]=0x1;}}class Circle{constructor({position:_0x43a436,radius:_0xb7a2f6,color:color=_0x508237(0x113),strokeColor:strokeColor='rgba(225,225,225,0.3)'}){const _0x1fcc02=_0x508237;this[_0x1fcc02(0xfd)]=_0x43a436,this[_0x1fcc02(0x11f)]=_0xb7a2f6,this[_0x1fcc02(0x130)]=color,this['strokeColor']=strokeColor;}[_0x508237(0xd2)](){const _0x222709=_0x508237;c[_0x222709(0xf9)]=this[_0x222709(0x150)],c[_0x222709(0x13e)]=0x5,c[_0x222709(0x125)]=this[_0x222709(0x130)],c[_0x222709(0xe2)]=0.3,c[_0x222709(0x14a)](),c[_0x222709(0xe3)](this[_0x222709(0xfd)]['x'],this[_0x222709(0xfd)]['y'],this['radius'],0x0,Math['PI']*0x2),c[_0x222709(0x104)](),c[_0x222709(0xed)](),c[_0x222709(0xe2)]=0x1;}['update'](){const _0x263b17=_0x508237;this[_0x263b17(0xfd)]['y']-=0x32/this[_0x263b17(0x11f)],this[_0x263b17(0xd2)]();}}function distance(_0x216a64,_0x55bdfe){const _0x307289=_0x508237,_0x14e164=Math[_0x307289(0xf6)]((_0x216a64['x']-_0x55bdfe['x'])**0x2+(_0x216a64['y']-_0x55bdfe['y'])**0x2);return _0x14e164;}function background(){const _0x1d2ba5=_0x508237;c[_0x1d2ba5(0x125)]='rgba(0,88,147,1)',c[_0x1d2ba5(0x12e)](0x0,0x0,uWidth,uHeight);}function generateWave(_0x19e588){const _0x1fb0bc=_0x508237;let _0x34bf5c,_0x505ba6,_0x296e7e,_0x53500b;_0x19e588=='preTransition'||_0x19e588==_0x1fb0bc(0x13d)||_0x19e588==_0x1fb0bc(0x137)?(_0x34bf5c=Math[_0x1fb0bc(0x119)]()*uWidth,_0x296e7e=Math['random']()*0x12c+0x64):(_0x34bf5c=0x9f6,_0x296e7e=Math[_0x1fb0bc(0x119)]()*0x12c+0x64);if(_0x19e588==_0x1fb0bc(0x13d)||_0x19e588=='lose')_0x505ba6=Math[_0x1fb0bc(0x119)]()*uHeight/0x5;else{if(_0x19e588=='preWelcome'||_0x19e588==_0x1fb0bc(0x121))_0x505ba6=Math[_0x1fb0bc(0x119)]()*0x1f4+0x7d0;else _0x505ba6=Math[_0x1fb0bc(0x119)]()*uHeight;}_0x53500b=0x64/_0x296e7e,waves['push'](new Wave({'x':_0x34bf5c,'y':_0x505ba6,'waveLength':_0x296e7e,'speed':_0x53500b}));}function generateCloud(_0x34a579){const _0x4677a1=_0x508237;let _0x4df0a7,_0x4214a6;if(_0x34a579==_0x4677a1(0x137))_0x4df0a7=Math[_0x4677a1(0x119)]()*uWidth;else _0x4df0a7=0xbb8;_0x4214a6=Math[_0x4677a1(0x119)]()*0x640,clouds[_0x4677a1(0xc7)](new Cloud({'position':{'x':_0x4df0a7,'y':_0x4214a6}}));}function generateWind(){const _0x5078e3=_0x508237;currentFrame%windLength==0x0&&winds[_0x5078e3(0xc7)](new Wind({'position':{'x':-0x64,'y':Math[_0x5078e3(0x119)]()*uHeight},'radius':0x64})),currentFrame%windLength==Math[_0x5078e3(0x13f)](windLength/0x4)&&winds[_0x5078e3(0xc7)](new Wind({'position':{'x':Math[_0x5078e3(0x119)]()*uWidth,'y':-0x64},'radius':0x64})),currentFrame%windLength==Math[_0x5078e3(0x13f)](windLength/0x2)&&winds[_0x5078e3(0xc7)](new Wind({'position':{'x':uWidth+0x64,'y':Math[_0x5078e3(0x119)]()*uHeight},'radius':0x64})),currentFrame%windLength==Math[_0x5078e3(0x13f)](windLength*0x3/0x4)&&winds[_0x5078e3(0xc7)](new Wind({'position':{'x':Math[_0x5078e3(0x119)]()*uWidth,'y':uHeight+0x64},'radius':0x64}));}function generateBomb(){const _0x1dade4=_0x508237;if(currentFrame%bombLength==0xa)while(!![]){let _0x3e18d6=new Bomb({'position':{'x':Math['random']()*uWidth,'y':Math[_0x1dade4(0x119)]()*uHeight},'radius':0x64}),_0x5d67de=distance(_0x3e18d6[_0x1dade4(0xfd)],player['position']);if(_0x5d67de>player[_0x1dade4(0x11f)]*0x2+_0x3e18d6[_0x1dade4(0x11f)]){bombs[_0x1dade4(0xc7)](_0x3e18d6);return;}}}function updateClouds(){const _0x3080c8=_0x508237;if(clouds[_0x3080c8(0xd9)]<cloudNumber)generateCloud();clouds['forEach']((_0x2ae15e,_0x4500a3)=>{const _0x25d51a=_0x3080c8;_0x2ae15e['position']['x']+0x3e8<0x0?setTimeout(()=>{clouds['splice'](_0x4500a3,0x1);},0x0):_0x2ae15e[_0x25d51a(0x152)]();});}function _0xb445(){const _0x4f7a8e=['clientY','font','preLose','lineWidth','trunc','touchend','隨\x20\x20便\x20\x20撳\x20\x20個\x20\x20位\x20\x20開\x20\x20始\x20\x20啦','frameWidth','top','white','T\x20a\x20p\x20\x20\x20\x20a\x20n\x20y\x20w\x20h\x20e\x20r\x20e\x20\x20\x20\x20t\x20o\x20\x20\x20\x20s\x20t\x20a\x20r\x20t','lineJoin','wind','preTransition','removeEventListener','beginPath','rgba(92,236,255,1)','touchstart','./img/bottom.jpg','4501DMyfDk','touchcancel','strokeColor','moveTo','update','110px\x20Noto\x20Sans\x20TC','speed','cos','./img/wind_new.png','push','motions','touches','play','60px\x20Noto\x20Sans\x20TC','今次時間','transition','方\x20向\x20，\x20協\x20助\x20佢\x20避\x20開\x20危\x20險\x20。\x20睇\x20下\x20你\x20可\x20以\x20堅','./img/dynamite.png','startTime','atan2','draw','再見海鮮舫','direction','imageSrc','遊戲結束','f\x20l\x20o\x20a\x20t\x20i\x20n\x20g\x20\x20\x20r\x20e\x20s\x20t\x20a\x20u\x20r\x20a\x20n\x20t\x20.\x20\x20\x20L\x20e\x20t\x20\x27\x20s\x20\x20\x20s\x20e\x20e\x20\x20\x20h\x20o\x20w\x20\x20\x20l\x20o\x20n\x20g','Last\x20game','length','2313966zpGccj','src','41182710zThyuv','149247KXLdQE','splice','round','addEventListener','Goodbye,\x20Floating\x20Restaurant','globalAlpha','arc','./img/jumbo.png','image','frameCurrent','65px\x20Noto\x20Sans\x20TC','Start','sink','DOMContentLoaded','waveLength','orange','stroke','81px\x20Noto\x20Sans\x20TC','frames','touchmove','min','Eddy\x20Sham\x202022','./img/clouds.png','left','now','sqrt','1UwjzfQ','currentMotion','strokeStyle','scale','drawImage','bomb','position','lineTo','createLinearGradient','B\x20y\x20\x20\x20t\x20a\x20p\x20p\x20i\x20n\x20g\x20\x20\x20o\x20n\x20\x20\x20t\x20h\x20e\x20\x20\x20\x20p\x20o\x20s\x20i\x20t\x20i\x20o\x20n\x20\x20\x20y\x20o\x20u\x20\x20\x20w\x20a\x20n\x20t\x20\x20\x20t\x20o','76px\x20Noto\x20Sans\x20TC','sin','10072Cykrun','fill','8PSGTTw','./img/windKnife.png','rgba(255,165,0,1)','mousedown','82px\x20Noto\x20Sans\x20TC','getBoundingClientRect','248px\x20Noto\x20Sans\x20TC','addColorStop','200px\x20Noto\x20Sans\x20TC','frameSlow','mouseup','5066847jZNymN','rgba(20,20,20,1)','y\x20o\x20u\x20\x20\x20c\x20a\x20n\x20\x20\x20g\x20o\x20!','rgba(225,225,225,0.2)','lose','1439390DlavoI','213px\x20Noto\x20Sans\x20TC','fillText','101px\x20Noto\x20Sans\x20TC','random','./img/jumbo_sink.png','Best\x20game','rgba(30,30,30,1)','choooseMotion','height','radius','forEach','welcome','strokeText','clientX','lineCap','fillStyle','80px\x20Noto\x20Sans\x20TC','./img/blast.png','width','g\x20o\x20,\x20\x20\x20y\x20o\x20u\x20\x20\x20c\x20a\x20n\x20\x20\x20c\x20o\x20n\x20t\x20r\x20o\x20l\x20\x20\x20t\x20h\x20e\x20\x20\x20d\x20i\x20r\x20e\x20c\x20t\x20i\x20o\x20n\x20\x20\x20o\x20f\x20\x20\x20t\x20h\x20e','405px\x20Noto\x20Sans\x20TC','applyMotion','canvas','3969370xcJbNO','fillRect','500px\x20Noto\x20Sans\x20TC','color','hit','290px\x20Noto\x20Sans\x20TC','Game\x20Over','./img/boat.png','透\x20過\x20撳\x20你\x20想\x20去\x20嘅\x20位\x20置\x20控\x20制\x20海\x20鮮\x20舫\x20移\x20動\x20嘅','abs','preWelcome','109px\x20Noto\x20Sans\x20TC','move','atan'];_0xb445=function(){return _0x4f7a8e;};return _0xb445();}function updateWaves(_0x563a3a){const _0x221643=_0x508237;if(waves['length']<waveNumber)generateWave(_0x563a3a);if(_0x563a3a=='lose')c[_0x221643(0xe2)]=0.005;else c[_0x221643(0xe2)]=0.15;waves[_0x221643(0x120)]((_0x5ee537,_0x3a415c)=>{const _0x1068dc=_0x221643;if(_0x563a3a==_0x1068dc(0x121))_0x5ee537['x']-=_0x5ee537[_0x1068dc(0x154)]*0x3;else _0x5ee537['x']-=_0x5ee537[_0x1068dc(0x154)];(_0x5ee537['x']>uWidth+0x64||_0x5ee537['x']<-_0x5ee537[_0x1068dc(0xeb)]-0x64)&&setTimeout(()=>{const _0x4277c8=_0x1068dc;waves[_0x4277c8(0xde)](_0x3a415c,0x1);},0x0);c[_0x1068dc(0x14a)](),c[_0x1068dc(0x151)](_0x5ee537['x'],_0x5ee537['y']),c[_0x1068dc(0x124)]='round',c['strokeStyle']=_0x1068dc(0x144),c[_0x1068dc(0xfe)](_0x5ee537['x']+_0x5ee537['waveLength'],_0x5ee537['y']);if(_0x563a3a=='lose')c['lineWidth']=0x28;else c[_0x1068dc(0x13e)]=0xa;c['stroke']();}),c[_0x221643(0xe2)]=0x1;}function updateWinds(){const _0x424a28=_0x508237;winds[_0x424a28(0x120)]((_0x3a566a,_0x4cd5b0)=>{const _0x3ed387=_0x424a28;_0x3a566a['update'](),(_0x3a566a['position']['x']+_0x3a566a[_0x3ed387(0x11f)]<-windMargin||_0x3a566a[_0x3ed387(0xfd)]['x']-_0x3a566a[_0x3ed387(0x11f)]>uWidth+windMargin||_0x3a566a[_0x3ed387(0xfd)]['y']+_0x3a566a[_0x3ed387(0x11f)]<-windMargin||_0x3a566a[_0x3ed387(0xfd)]['y']-_0x3a566a['radius']>uHeight+windMargin)&&setTimeout(()=>{winds['splice'](_0x4cd5b0,0x1);},0x0);});}function updateBombs(){bombs['forEach']((_0x153044,_0x58e05e)=>{const _0xdf2c0b=_0x476b;performance[_0xdf2c0b(0xf5)]()-_0x153044[_0xdf2c0b(0xd0)]>=bombDuration&&setTimeout(()=>{const _0x5312e3=_0xdf2c0b;bombs[_0x5312e3(0xde)](_0x58e05e,0x1);},0x0),_0x153044[_0xdf2c0b(0x152)]();});}function generateBubbles(){const _0x34aa4d=_0x508237;Math[_0x34aa4d(0x119)]()>0.993&&bubbles['push'](new Circle({'position':{'x':Math[_0x34aa4d(0x119)]()*uWidth,'y':uHeight+0x64},'radius':Math[_0x34aa4d(0x119)]()*0xa+0xa}));}function updateBubbles(){bubbles['forEach']((_0x592191,_0x300d3e)=>{const _0x414c02=_0x476b;if(_0x592191[_0x414c02(0xfd)]['y']-_0x592191['radius']<-0x32)setTimeout(()=>{const _0x3eb788=_0x414c02;bubbles[_0x3eb788(0xde)](_0x300d3e,0x1);},0x0);else _0x592191[_0x414c02(0x152)]();});}function collisionDetection(){const _0x42192d=_0x508237;if(gameCondition!==_0x42192d(0xca))return;let _0x14fcb2=[winds,bombs];_0x14fcb2['forEach']((_0xa7e0ea,_0x48a715)=>{_0xa7e0ea['forEach']((_0x2ed16d,_0x48cfe4)=>{const _0x21607e=_0x476b;let _0xf3485d=Math[_0x21607e(0xd1)](_0x2ed16d['position']['y']-player[_0x21607e(0xfd)]['y'],player[_0x21607e(0xfd)]['x']-_0x2ed16d['position']['x']);if(_0xf3485d>=Math['atan']((0.5+_0x2ed16d[_0x21607e(0x11f)]/player[_0x21607e(0x11f)])/(Math['sqrt'](0x3)/0x2))&&_0xf3485d<=Math['PI']-Math[_0x21607e(0x13a)]((0.5+_0x2ed16d[_0x21607e(0x11f)]/player[_0x21607e(0x11f)])/(Math[_0x21607e(0xf6)](0x3)/0x2))){if(distance(_0x2ed16d['position'],player[_0x21607e(0xfd)])<(_0x2ed16d[_0x21607e(0x11f)]+player['radius']/0x2)/Math['sin'](_0xf3485d)){if(_0x48a715==0x0)setHit(_0x21607e(0x147));else _0x48a715==0x1&&setHit(_0x21607e(0xfc));setTimeout(()=>{const _0x553e53=_0x21607e;_0xa7e0ea[_0x553e53(0xde)](_0x48cfe4,0x1);},0x0);}}else{if(_0xf3485d<=Math[_0x21607e(0x13a)]((0.5+_0x2ed16d[_0x21607e(0x11f)]/player[_0x21607e(0x11f)])/(Math[_0x21607e(0xf6)](0x3)/0x2))&&_0xf3485d>=Math['PI']/0x6){let _0x52da17=_0xf3485d-Math['PI']/0x6;if(distance(_0x2ed16d[_0x21607e(0xfd)],player[_0x21607e(0xfd)])<_0x2ed16d[_0x21607e(0x11f)]+player['radius']-(_0x2ed16d[_0x21607e(0x11f)]+player[_0x21607e(0x11f)])*_0x52da17**0x2){if(_0x48a715==0x0)setHit('wind');else _0x48a715==0x1&&setHit(_0x21607e(0xfc));setTimeout(()=>{const _0x120832=_0x21607e;_0xa7e0ea[_0x120832(0xde)](_0x48cfe4,0x1);},0x0);}}else{if(_0xf3485d>=Math['PI']-Math[_0x21607e(0x13a)]((0.5+_0x2ed16d[_0x21607e(0x11f)]/player[_0x21607e(0x11f)])/(Math[_0x21607e(0xf6)](0x3)/0x2))&&_0xf3485d<=Math['PI']*0x5/0x6){let _0x171dfe=Math['PI']*0x5/0x6-_0xf3485d;if(distance(_0x2ed16d[_0x21607e(0xfd)],player['position'])<_0x2ed16d['radius']+player['radius']-(_0x2ed16d[_0x21607e(0x11f)]+player['radius'])*_0x171dfe**0x2){if(_0x48a715==0x0)setHit('wind');else _0x48a715==0x1&&setHit(_0x21607e(0xfc));setTimeout(()=>{const _0x353c5a=_0x21607e;_0xa7e0ea[_0x353c5a(0xde)](_0x48cfe4,0x1);},0x0);}}else{if(distance(_0x2ed16d['position'],player[_0x21607e(0xfd)])<_0x2ed16d['radius']+player['radius']){if(_0x48a715==0x0)setHit('wind');else _0x48a715==0x1&&setHit('bomb');setTimeout(()=>{const _0x4746d7=_0x21607e;_0xa7e0ea[_0x4746d7(0xde)](_0x48cfe4,0x1);},0x0);}}}}});});}function difficulty(){const _0x3ba3a9=_0x508237;let _0x29a366=Math[_0x3ba3a9(0x13f)]((performance[_0x3ba3a9(0xf5)]()-startTime)/0x1e/0x3e8);bombLength=0x190-Math[_0x3ba3a9(0x13f)](_0x29a366**0.8)*0x14,windLength=0xf0-Math['trunc'](_0x29a366**0.8)*0x14;if(bombLength<0x14)bombLength=0x14;if(windLength<0xa)windLength=0xa;}function timeToString(_0x506d56){const _0x48ac81=_0x508237;second=Math[_0x48ac81(0x13f)]((_0x506d56-startTime)/0x3e8)%0x3c,minute=Math[_0x48ac81(0x13f)]((_0x506d56-startTime)/0xea60),millisecond=Math[_0x48ac81(0x13f)](_0x506d56-startTime)%0x3e8;if(minute<0xa)minStr='0'+minute;else minStr=minute;if(second<0xa)secStr='0'+second;else secStr=second;millisecStr=Math['trunc'](millisecond/0x64);}function drawTimer(){const _0x4c1952=_0x508237;c[_0x4c1952(0x125)]=_0x4c1952(0x113),c[_0x4c1952(0x12e)](0x76c,0x87,0x1ef,0x93);if(gameCondition==_0x4c1952(0xca))timeToString(performance[_0x4c1952(0xf5)]());else gameCondition=='hit'&&timeToString(endTime);displayStr=minStr+':'+secStr+'.'+millisecStr,c[_0x4c1952(0x125)]=_0x4c1952(0xec),c['font']=_0x4c1952(0x153),c['fillText'](displayStr,0x79e,0xfa);}function animate(){const _0xb427c5=_0x508237;requestAnimationFrame(animate),timeNow=performance[_0xb427c5(0xf5)]();if(timeNow-timeThen<fpsInterval)return;currentFrame+=0x1,background();switch(gameCondition){case _0xb427c5(0x121):welcomeUpdate();break;case _0xb427c5(0xcd):transitionUpdate();break;case'play':playUpdate();break;case'hit':hitUpdate();break;case'lose':loseUpdate();break;}timeThen+=fpsInterval,timeLast=timeNow;}function setWelcome(){const _0x175d72=_0x508237;for(i=0x0;i<waveNumber;i++){generateWave('preWelcome');}for(i=0x0;i<cloudNumber;i++){generateCloud(_0x175d72(0x137));}playerPre=new Ship({'position':{'x':0x2bc,'y':0x7d0},'motions':{'move':{'imageSrc':'./img/jumbo.png','scale':0x1,'frames':0x2,'frameCurrent':0x1,'frameSlow':0x14,'frameWidth':0x2ee}}}),tugboat=new Ship({'position':{'x':0x708,'y':playerPre[_0x175d72(0xfd)]['y']+0x5a},'motions':{'move':{'imageSrc':_0x175d72(0x134),'scale':0x1,'frames':0x2,'frameCurrent':0x1,'frameSlow':0x14,'frameWidth':0x2ee}}});}function welcomeUpdate(){const _0x76f832=_0x508237;var _0x1e599e=c[_0x76f832(0xff)](0x0,0x0,0x0,0x7d0);_0x1e599e[_0x76f832(0x10c)](0x0,_0x76f832(0x14b)),_0x1e599e[_0x76f832(0x10c)](0x1,'rgba(174,255,249,1)'),c[_0x76f832(0x125)]=_0x1e599e,c[_0x76f832(0x12e)](0x0,0x0,0x9c4,0x7d0),updateClouds(),updateWaves(_0x76f832(0x121)),c[_0x76f832(0xf9)]=_0x76f832(0x144),c[_0x76f832(0x13e)]=0x28,c[_0x76f832(0x146)]='round',c['font']=_0x76f832(0x10b),c['strokeText'](_0x76f832(0xd3),0x258,0x366),c['fillStyle']=_0x76f832(0x107),c[_0x76f832(0x117)](_0x76f832(0xd3),0x258,0x366),c['font']='83px\x20Noto\x20Sans\x20TC',c[_0x76f832(0x122)]('Goodbye,\x20Floating\x20Restaurant',0x25d,0x3fc),c[_0x76f832(0x117)](_0x76f832(0xe1),0x25d,0x3fc),c['fillStyle']=_0x76f832(0x11c),c[_0x76f832(0x13c)]=_0x76f832(0x138),c[_0x76f832(0x117)](_0x76f832(0x141),0x258,0x514),c[_0x76f832(0x13c)]=_0x76f832(0x101),c[_0x76f832(0x117)](_0x76f832(0x145),0x258,0x578),c[_0x76f832(0x125)]='white',c['font']=_0x76f832(0xe7),c[_0x76f832(0x117)](_0x76f832(0xf2),0x64,0x960);let _0x5cb91b=[playerPre,tugboat];playerPre['currentMotion']=playerPre[_0x76f832(0xc8)][_0x76f832(0x139)],tugboat[_0x76f832(0xf8)]=tugboat[_0x76f832(0xc8)][_0x76f832(0x139)],c[_0x76f832(0xf9)]='rgba(20,20,20,1)',c[_0x76f832(0x13e)]=0x8,c[_0x76f832(0x14a)](),c['moveTo'](tugboat[_0x76f832(0xfd)]['x'],tugboat[_0x76f832(0xfd)]['y']),c[_0x76f832(0xfe)](playerPre[_0x76f832(0xfd)]['x'],playerPre[_0x76f832(0xfd)]['y']),c['stroke'](),_0x5cb91b['forEach'](_0x57e08d=>{const _0x4feca7=_0x76f832;_0x57e08d[_0x4feca7(0x12b)](),_0x57e08d[_0x4feca7(0xd2)]();});}function setTransition(){const _0x487e77=_0x508237;gameCondition='transition',playerPre=new Ship({'position':{'x':-0x258,'y':uHeight/0x2},'motions':{'move':{'imageSrc':_0x487e77(0xe4),'scale':0x8/0xf,'frames':0x2,'frameCurrent':0x1,'frameSlow':0x14,'frameWidth':0x2ee}}}),tugboat=new Ship({'position':{'x':playerPre[_0x487e77(0xfd)]['x']+0x1f4,'y':playerPre['position']['y']+0x32},'motions':{'move':{'imageSrc':_0x487e77(0x134),'scale':0x8/0xf,'frames':0x2,'frameCurrent':0x1,'frameSlow':0x14,'frameWidth':0x2ee}}}),waves=[];for(i=0x0;i<waveNumber;i++){generateWave(_0x487e77(0x148));}}function transitionUpdate(){const _0x326227=_0x508237;updateWaves(_0x326227(0xcd));let _0x3bc15a=[playerPre,tugboat];playerPre[_0x326227(0xfd)]['x']<uWidth/0x2&&(playerPre['position']['x']+=0xa),tugboat[_0x326227(0xfd)]['x']+=0xa,playerPre[_0x326227(0xf8)]=playerPre[_0x326227(0xc8)][_0x326227(0x139)],tugboat[_0x326227(0xf8)]=tugboat[_0x326227(0xc8)]['move'],playerPre[_0x326227(0xfd)]['x']<uWidth/0x2&&(c[_0x326227(0xf9)]=_0x326227(0x111),c['lineWidth']=0x4,c[_0x326227(0x14a)](),c[_0x326227(0x151)](tugboat['position']['x'],tugboat['position']['y']),c['lineTo'](playerPre[_0x326227(0xfd)]['x'],playerPre['position']['y']),c[_0x326227(0xed)]()),_0x3bc15a[_0x326227(0x120)](_0x56fe0d=>{const _0x242ded=_0x326227;_0x56fe0d[_0x242ded(0x12b)](),_0x56fe0d[_0x242ded(0xd2)]();}),tugboat[_0x326227(0xfd)]['x']<0x9f6&&(c['fillStyle']=_0x326227(0x144),c[_0x326227(0x13c)]=_0x326227(0x126),c[_0x326227(0x117)](_0x326227(0x135),0x190,0x190),c[_0x326227(0x117)](_0x326227(0xce),0x190,0x226),c[_0x326227(0x117)]('持\x20到\x20幾\x20耐\x20！',0x190,0x2bc),c['font']=_0x326227(0xcb),c[_0x326227(0x117)](_0x326227(0x100),0x190,0x708),c[_0x326227(0x117)](_0x326227(0x129),0x190,0x76c),c['fillText'](_0x326227(0xd7),0x190,0x7d0),c[_0x326227(0x117)](_0x326227(0x112),0x190,0x834)),tugboat[_0x326227(0xfd)]['x']>0x9f6&&(c[_0x326227(0x13c)]=_0x326227(0x12f),c[_0x326227(0x125)]=_0x326227(0x144),c[_0x326227(0x13e)]=0x78,c['lineJoin']=_0x326227(0xdf),c['strokeText']('開始',0x320,0x4e2),c[_0x326227(0x125)]='orange',c[_0x326227(0x117)]('開始',0x320,0x4e2),c['fillStyle']=_0x326227(0x144),c[_0x326227(0x13c)]=_0x326227(0x12a),c[_0x326227(0x122)](_0x326227(0xe8),0x334,0x672),c[_0x326227(0x125)]='orange',c[_0x326227(0x117)](_0x326227(0xe8),0x334,0x672)),tugboat[_0x326227(0xfd)]['x']>uWidth+0x190&&setPlay();}function setPlay(){const _0x502958=_0x508237;playedTimes+=0x1,gameCondition=_0x502958(0xca),startTime=performance[_0x502958(0xf5)](),windLength=0xf0,bombLength=0x190,player=new Jumbo({'position':{'x':uWidth/0x2,'y':uHeight/0x2},'radius':0xc8,'motions':{'move':{'imageSrc':'./img/jumbo.png','scale':0x8/0xf,'frames':0x2,'frameSlow':0x14,'frameWidth':0x2ee},'sink':{'imageSrc':_0x502958(0x11a),'scale':0x8/0xf,'frames':0x8,'frameSlow':0xf,'frameWidth':0x2ee}}}),target=new Location({'position':{'x':player[_0x502958(0xfd)]['x'],'y':player[_0x502958(0xfd)]['y']}}),winds=[],bombs=[],hitWinds=[],bubbles=[];}function playUpdate(){const _0x37dc78=_0x508237;updateWaves(_0x37dc78(0xca)),difficulty(),generateWind(),generateBomb(),player[_0x37dc78(0x11d)](),player['update'](),updateBombs(),updateWinds(),drawTimer(),collisionDetection();}function setHit(_0x1b3ca2){const _0x48bea8=_0x508237;gameCondition=_0x48bea8(0x131),endTime=performance[_0x48bea8(0xf5)](),player[_0x48bea8(0xe6)]=0x1;if(_0x1b3ca2==_0x48bea8(0x147))hitWinds[_0x48bea8(0xc7)](new Attack({'position':{'x':player[_0x48bea8(0xfd)]['x'],'y':player[_0x48bea8(0xfd)]['y']},'imageSrc':_0x48bea8(0x106)}));if(_0x1b3ca2==_0x48bea8(0xfc))hitWinds['push'](new Attack({'position':{'x':player['position']['x'],'y':player[_0x48bea8(0xfd)]['y']},'imageSrc':_0x48bea8(0x127)}));}function hitUpdate(){const _0x5d2fe1=_0x508237;updateWaves('hit'),player[_0x5d2fe1(0x11d)](),player[_0x5d2fe1(0x152)]();if(hitWinds[_0x5d2fe1(0xd9)]>0x0)hitWinds[0x0][_0x5d2fe1(0x152)]();updateBombs(),updateWinds(),drawTimer();}function timeArrayTostring(_0x195b35){let _0x4155c2,_0x2448d9,_0x5bc851;if(_0x195b35[0x0]<0xa)_0x4155c2='0'+_0x195b35[0x0];else _0x4155c2=_0x195b35[0x0];if(_0x195b35[0x1]<0xa)_0x2448d9='0'+_0x195b35[0x1];else _0x2448d9=_0x195b35[0x1];return _0x5bc851=Math['trunc'](_0x195b35[0x2]/0x64),_0x4155c2+':'+_0x2448d9+'.'+_0x5bc851;}function setLose(){const _0x1795bd=_0x508237;gameCondition=_0x1795bd(0x114),lastTime=[minute,second,millisecond];minute*0x3c+second+millisecond/0x3e8>bestTime[0x0]*0x3c+bestTime[0x1]+bestTime[0x2]/0x3e8&&(bestTime=[minute,second,millisecond]);lastTimeStr=timeArrayTostring(lastTime),bestTimeStr=timeArrayTostring(bestTime),losePicture=new StillImage({'x':0x0,'y':0x0,'width':uWidth,'height':uHeight,'imageSrc':_0x1795bd(0x14d)}),waves=[];for(i=0x0;i<waveNumber;i++){generateWave('preLose');}}function loseUpdate(){const _0x39a820=_0x508237;losePicture[_0x39a820(0xd2)](),updateWaves(_0x39a820(0x114)),generateBubbles(),updateBubbles(),c[_0x39a820(0xf9)]=_0x39a820(0x144),c[_0x39a820(0x13e)]=0x32,c[_0x39a820(0x146)]=_0x39a820(0xdf),c[_0x39a820(0x13c)]=_0x39a820(0x132),c[_0x39a820(0x122)](_0x39a820(0xd6),0x29e,0x320),c['fillStyle']=_0x39a820(0xec),c[_0x39a820(0x117)](_0x39a820(0xd6),0x29e,0x320),c[_0x39a820(0x13c)]=_0x39a820(0x116),c[_0x39a820(0x122)](_0x39a820(0x133),0x29e,0x44c),c[_0x39a820(0x117)](_0x39a820(0x133),0x29e,0x44c),c['fillStyle']=_0x39a820(0x144),c['font']=_0x39a820(0x118),c[_0x39a820(0x117)](_0x39a820(0xcc),0x280,0x5be),c['fillText']('最佳時間',0x280,0x71c),c['font']=_0x39a820(0x109),c['fillText'](_0x39a820(0xd8),0x280,0x62c),c[_0x39a820(0x13c)]=_0x39a820(0xee),c['fillText'](_0x39a820(0x11b),0x280,0x78a),c[_0x39a820(0x13c)]=_0x39a820(0x10d),c[_0x39a820(0x117)](lastTimeStr,0x4b0,0x60e),c[_0x39a820(0x117)](bestTimeStr,0x4b0,0x76c);}function handleDown(_0x13da5d){const _0x377037=_0x508237;var _0x5290cd,_0x3b49c0;const _0x2f4ab0=canvas[_0x377037(0x10a)]();_0x5290cd=(_0x13da5d[_0x377037(0x123)]-_0x2f4ab0[_0x377037(0xf4)])/ratio,_0x3b49c0=(_0x13da5d[_0x377037(0x13b)]-_0x2f4ab0[_0x377037(0x143)])/ratio,controlSettings(_0x5290cd,_0x3b49c0);}function handleStart(_0x35668e){const _0x532556=_0x508237;canvas[_0x532556(0x149)]('mousedown',handleDown);var _0x3d62d3,_0x52adec;const _0x37c612=canvas[_0x532556(0x10a)]();_0x3d62d3=(_0x35668e[_0x532556(0xc9)][0x0]['pageX']-_0x37c612[_0x532556(0xf4)])/ratio,_0x52adec=(_0x35668e[_0x532556(0xc9)][0x0]['pageY']-_0x37c612[_0x532556(0x143)])/ratio,controlSettings(_0x3d62d3,_0x52adec);}function controlSettings(_0xa611ff,_0x2809f1){const _0x2111e3=_0x508237;if(gameCondition==_0x2111e3(0x121)||gameCondition==_0x2111e3(0x114))setTransition();else gameCondition==_0x2111e3(0xca)&&(target[_0x2111e3(0xfd)]['x']=_0xa611ff,target[_0x2111e3(0xfd)]['y']=_0x2809f1);}function handleEnd(){}function handleMove(){}function handleCancel(){}function handleUp(){}function startup(){const _0x3d9d88=_0x508237;canvas[_0x3d9d88(0xe0)](_0x3d9d88(0x14c),handleStart),canvas[_0x3d9d88(0xe0)](_0x3d9d88(0x140),handleEnd),canvas[_0x3d9d88(0xe0)](_0x3d9d88(0x14f),handleCancel),canvas[_0x3d9d88(0xe0)](_0x3d9d88(0xf0),handleMove),canvas[_0x3d9d88(0xe0)](_0x3d9d88(0x10f),handleUp),canvas[_0x3d9d88(0xe0)](_0x3d9d88(0x108),handleDown),setWelcome(),animate();}document[_0x508237(0xe0)](_0x508237(0xea),startup);