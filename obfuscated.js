const _0x5dafaf=_0x36ab;(function(_0x35b02f,_0x22c83f){const _0x3d5932=_0x36ab,_0x77c0fb=_0x35b02f();while(!![]){try{const _0x9476eb=-parseInt(_0x3d5932(0x14c))/0x1+parseInt(_0x3d5932(0x19d))/0x2*(-parseInt(_0x3d5932(0x1ad))/0x3)+-parseInt(_0x3d5932(0x156))/0x4+parseInt(_0x3d5932(0x158))/0x5*(parseInt(_0x3d5932(0x17d))/0x6)+-parseInt(_0x3d5932(0x16a))/0x7+-parseInt(_0x3d5932(0x1c1))/0x8*(parseInt(_0x3d5932(0x174))/0x9)+parseInt(_0x3d5932(0x1b6))/0xa;if(_0x9476eb===_0x22c83f)break;else _0x77c0fb['push'](_0x77c0fb['shift']());}catch(_0x1c2cbb){_0x77c0fb['push'](_0x77c0fb['shift']());}}}(_0xbbee,0xcc771));const canvas=document[_0x5dafaf(0x1bc)](_0x5dafaf(0x16b)),c=canvas['getContext']('2d'),uWidth=0x9c4,uHeight=0x9c4,fps=0x3c,fpsInterval=0x3e8/fps,ratio=Math[_0x5dafaf(0x19f)](innerWidth/uWidth,innerHeight/uHeight)*0.98;ratio<0x1?(canvas['width']=uWidth*ratio,canvas[_0x5dafaf(0x149)]=uHeight*ratio,c['scale'](ratio,ratio)):(canvas[_0x5dafaf(0x197)]=uWidth,canvas[_0x5dafaf(0x149)]=uHeight);let touchScreen=![];const windMargin=0x3e8,bombDuration=0x4e20,waveNumber=0x32,cloudNumber=0xf;let gameCondition=_0x5dafaf(0x17b),preTransition=!![],currentFrame=0x0,playedTimes=0x0,hitWinds=[],winds=[],bombs=[],waves=[],bubbles=[],clouds=[],lastTime=[0x0,0x0,0x0],bestTime=[0x0,0x0,0x0],sessionStartTime,sessionElapsedTime,previousTime,currentElapsedTime,totalElapsedTime,player,target,mousedownPosition,touchstartPosition,losePicture,playerPre,tugboat,bombLength,windLength,minute,second,millisecond,secStr,millisecStr,minStr,displayStr,lastTimeStr,bestTimeStr;var timeNow=performance['now']();let timeThen=timeNow,timeLast=timeNow;class Location{constructor({position:_0x198fda}){const _0x13aef0=_0x5dafaf;this[_0x13aef0(0x151)]=_0x198fda;}}class Wave{constructor({x:_0x39065a,y:_0x84f39e,waveLength:_0x3ff19a,speed:_0x310327}){const _0x33c85f=_0x5dafaf;this['x']=_0x39065a,this['y']=_0x84f39e,this[_0x33c85f(0x1a0)]=_0x3ff19a,this[_0x33c85f(0x173)]=_0x310327;}}class StillImage{constructor({x:_0x1661f3,y:_0x10c217,width:_0x14a937,height:_0x1a3343,imageSrc:_0x5aa952}){const _0x44061c=_0x5dafaf;this['x']=_0x1661f3,this['y']=_0x10c217,this['width']=_0x14a937,this['height']=_0x1a3343,this[_0x44061c(0x169)]=new Image(),this[_0x44061c(0x169)][_0x44061c(0x1a7)]=_0x5aa952;}[_0x5dafaf(0x15d)](){const _0x2c5c6b=_0x5dafaf;c[_0x2c5c6b(0x1c3)](this['image'],this['x'],this['y'],this['width'],this[_0x2c5c6b(0x149)]);}}class Sprite{constructor({position:_0x5c62f5}){const _0x7c6d6e=_0x5dafaf;this[_0x7c6d6e(0x151)]=_0x5c62f5,this[_0x7c6d6e(0x1b8)]=0x1,this[_0x7c6d6e(0x1ae)]=0x1,this[_0x7c6d6e(0x17e)]=0x1,this[_0x7c6d6e(0x177)]=0x8,this[_0x7c6d6e(0x1a3)]=0x1;}[_0x5dafaf(0x15d)](){const _0x5e4487=_0x5dafaf;c[_0x5e4487(0x1c3)](this[_0x5e4487(0x169)],Math[_0x5e4487(0x1ba)](this['frameCurrent']%(this[_0x5e4487(0x1ae)]*this['frameSlow'])/this[_0x5e4487(0x177)])*this[_0x5e4487(0x1a3)],0x0,this[_0x5e4487(0x1a3)],this[_0x5e4487(0x169)][_0x5e4487(0x149)],this['position']['x']-this[_0x5e4487(0x1a3)]*this[_0x5e4487(0x1b8)]/0x2,this[_0x5e4487(0x151)]['y']-this['image'][_0x5e4487(0x149)]*this[_0x5e4487(0x1b8)]/0x2,this[_0x5e4487(0x1a3)]*this[_0x5e4487(0x1b8)],this[_0x5e4487(0x169)][_0x5e4487(0x149)]*this['scale']),this[_0x5e4487(0x17e)]++;}}class Cloud{constructor({position:_0x43b7bb}){const _0x14a589=_0x5dafaf;this['position']=_0x43b7bb,this['scale']=Math[_0x14a589(0x175)]()*0.8+0.2,this[_0x14a589(0x1ae)]=0xa,this[_0x14a589(0x1a3)]=0x3e8,this['n']=Math[_0x14a589(0x1ba)](Math[_0x14a589(0x175)]()*0xa),this[_0x14a589(0x173)]=(_0x43b7bb['y']/0x9c4/0x3+this[_0x14a589(0x1b8)]/0x2)/0x2,this[_0x14a589(0x169)]=new Image(),this[_0x14a589(0x169)][_0x14a589(0x1a7)]=_0x14a589(0x196);}[_0x5dafaf(0x15d)](){const _0x27508c=_0x5dafaf;c[_0x27508c(0x1c3)](this[_0x27508c(0x169)],this['n']*this['frameWidth'],0x0,this[_0x27508c(0x1a3)],this[_0x27508c(0x169)]['height'],this[_0x27508c(0x151)]['x']-this[_0x27508c(0x1a3)]*this[_0x27508c(0x1b8)]/0x2,this[_0x27508c(0x151)]['y']-this[_0x27508c(0x169)][_0x27508c(0x149)]*this[_0x27508c(0x1b8)]/0x2,this[_0x27508c(0x1a3)]*this['scale'],this[_0x27508c(0x169)][_0x27508c(0x149)]*this[_0x27508c(0x1b8)]);}['update'](){const _0x2c894f=_0x5dafaf;this[_0x2c894f(0x151)]['x']-=this[_0x2c894f(0x173)],this['draw']();}}class Wind extends Sprite{constructor({position:_0x330426,radius:_0xb5688c}){const _0x502701=_0x5dafaf;super({'position':_0x330426}),this['radius']=_0xb5688c,this[_0x502701(0x173)]=0x5,this['direction']=Math['atan2'](player[_0x502701(0x151)]['y']-this[_0x502701(0x151)]['y'],player['position']['x']-this[_0x502701(0x151)]['x'])+(Math[_0x502701(0x175)]()-0.5),this[_0x502701(0x169)]=new Image(),this[_0x502701(0x169)]['src']=_0x502701(0x148),this[_0x502701(0x1b8)]=0x4/0x9,this[_0x502701(0x1ae)]=0x2,this['frameCurrent']=0x1,this[_0x502701(0x177)]=0xf,this['frameWidth']=0x1c2;}[_0x5dafaf(0x17f)](){const _0x362dc1=_0x5dafaf;this['position']['x']+=this[_0x362dc1(0x173)]*Math['cos'](this[_0x362dc1(0x1af)]),this['position']['y']+=this[_0x362dc1(0x173)]*Math[_0x362dc1(0x1a2)](this['direction']),this[_0x362dc1(0x15d)]();}}class Jumbo extends Sprite{constructor({position:_0x5a00cc,radius:_0x545df2,motions:_0x2ce314}){const _0x2604c6=_0x5dafaf;super({'position':_0x5a00cc}),this['radius']=_0x545df2,this['motions']=_0x2ce314;for(const _0x3ed8f3 in this[_0x2604c6(0x1b1)]){_0x2ce314[_0x3ed8f3][_0x2604c6(0x169)]=new Image(),_0x2ce314[_0x3ed8f3]['image']['src']=_0x2ce314[_0x3ed8f3][_0x2604c6(0x1c8)];}this[_0x2604c6(0x17e)]=0x1;}[_0x5dafaf(0x18f)](){const _0x432785=_0x5dafaf;this[_0x432785(0x169)]=this[_0x432785(0x184)]['image'],this['image'][_0x432785(0x1a7)]=this[_0x432785(0x184)][_0x432785(0x1c8)],this['scale']=this[_0x432785(0x184)][_0x432785(0x1b8)],this['frames']=this[_0x432785(0x184)][_0x432785(0x1ae)],this[_0x432785(0x1a3)]=this['currentMotion'][_0x432785(0x1a3)],this[_0x432785(0x177)]=this[_0x432785(0x184)][_0x432785(0x177)];}[_0x5dafaf(0x1cb)](){const _0x2a29c4=_0x5dafaf;if(gameCondition=='hit')this[_0x2a29c4(0x184)]=this[_0x2a29c4(0x1b1)][_0x2a29c4(0x179)];else gameCondition==_0x2a29c4(0x1c2)&&(this[_0x2a29c4(0x184)]=this[_0x2a29c4(0x1b1)][_0x2a29c4(0x155)]);this['applyMotion']();}[_0x5dafaf(0x17f)](){const _0x1a3595=_0x5dafaf;gameCondition==_0x1a3595(0x1c2)&&(this[_0x1a3595(0x173)]=0x5*Math[_0x1a3595(0x1a1)](Math[_0x1a3595(0x19b)](distance(this[_0x1a3595(0x151)],target[_0x1a3595(0x151)])/0x64)),this[_0x1a3595(0x1af)]=Math['atan2'](target[_0x1a3595(0x151)]['y']-this[_0x1a3595(0x151)]['y'],target[_0x1a3595(0x151)]['x']-this[_0x1a3595(0x151)]['x']),this[_0x1a3595(0x151)]['x']+=this[_0x1a3595(0x173)]*Math['cos'](this[_0x1a3595(0x1af)]),this[_0x1a3595(0x151)]['y']+=this[_0x1a3595(0x173)]*Math[_0x1a3595(0x1a2)](this[_0x1a3595(0x1af)])),this[_0x1a3595(0x15d)](),gameCondition==_0x1a3595(0x1c4)&&this[_0x1a3595(0x17e)]>=this['motions'][_0x1a3595(0x179)][_0x1a3595(0x1ae)]*this[_0x1a3595(0x1b1)][_0x1a3595(0x179)][_0x1a3595(0x177)]&&setLose();}}class Ship extends Sprite{constructor({position:_0x3ec114,motions:_0x5b12d8}){const _0x10e51c=_0x5dafaf;super({'position':_0x3ec114}),this['motions']=_0x5b12d8;for(const _0x4c1922 in this[_0x10e51c(0x1b1)]){_0x5b12d8[_0x4c1922][_0x10e51c(0x169)]=new Image(),_0x5b12d8[_0x4c1922][_0x10e51c(0x169)][_0x10e51c(0x1a7)]=_0x5b12d8[_0x4c1922][_0x10e51c(0x1c8)];}}[_0x5dafaf(0x18f)](){const _0x3e66d3=_0x5dafaf;this['image']=this[_0x3e66d3(0x184)]['image'],this['image'][_0x3e66d3(0x1a7)]=this[_0x3e66d3(0x184)][_0x3e66d3(0x1c8)],this['scale']=this[_0x3e66d3(0x184)][_0x3e66d3(0x1b8)],this[_0x3e66d3(0x1ae)]=this[_0x3e66d3(0x184)][_0x3e66d3(0x1ae)],this[_0x3e66d3(0x1a3)]=this['currentMotion'][_0x3e66d3(0x1a3)],this['frameSlow']=this[_0x3e66d3(0x184)][_0x3e66d3(0x177)];}}class Attack extends Sprite{constructor({position:_0x55fd5e,imageSrc:_0x32d0d4}){const _0x3187a4=_0x5dafaf;super({'position':_0x55fd5e}),this['startTime']=performance[_0x3187a4(0x178)](),this['image']=new Image(),this[_0x3187a4(0x169)][_0x3187a4(0x1a7)]=_0x32d0d4,this[_0x3187a4(0x1b8)]=0x4/0x5,this[_0x3187a4(0x1ae)]=0x4,this[_0x3187a4(0x17e)]=0x1,this[_0x3187a4(0x177)]=0xa,this[_0x3187a4(0x1a3)]=0x1f4;}[_0x5dafaf(0x17f)](){const _0x2944b8=_0x5dafaf;if(this[_0x2944b8(0x17e)]<this[_0x2944b8(0x177)]*this[_0x2944b8(0x1ae)])this[_0x2944b8(0x15d)]();}}class Bomb extends Sprite{constructor({position:_0xab7588,radius:_0x4325ac}){const _0x4bd5de=_0x5dafaf;super({'position':_0xab7588}),this[_0x4bd5de(0x1c7)]=_0x4325ac,this['startTime']=performance[_0x4bd5de(0x178)](),this['image']=new Image(),this[_0x4bd5de(0x169)][_0x4bd5de(0x1a7)]=_0x4bd5de(0x192),this[_0x4bd5de(0x1b8)]=0x4/0x9,this[_0x4bd5de(0x1ae)]=0x2,this[_0x4bd5de(0x17e)]=0x1,this['frameSlow']=0x14,this[_0x4bd5de(0x1a3)]=0x1c2;}[_0x5dafaf(0x17f)](){const _0x1799df=_0x5dafaf;let _0x14cc5e=Math['atan']((bombDuration-(performance[_0x1799df(0x178)]()-this['startTime']))/0x7d0);if(_0x14cc5e>0x0)c[_0x1799df(0x176)]=_0x14cc5e;else c[_0x1799df(0x176)]=0x0;this[_0x1799df(0x15d)](),c[_0x1799df(0x176)]=0x1;}}class Circle{constructor({position:_0x14b08e,radius:_0x4e92df,color:color=_0x5dafaf(0x1bb),strokeColor:strokeColor=_0x5dafaf(0x14a)}){const _0x5adad1=_0x5dafaf;this[_0x5adad1(0x151)]=_0x14b08e,this[_0x5adad1(0x1c7)]=_0x4e92df,this[_0x5adad1(0x171)]=color,this['strokeColor']=strokeColor;}[_0x5dafaf(0x15d)](){const _0x3130ec=_0x5dafaf;c[_0x3130ec(0x1ab)]=this['strokeColor'],c['lineWidth']=0x5,c[_0x3130ec(0x188)]=this[_0x3130ec(0x171)],c[_0x3130ec(0x176)]=0.3,c[_0x3130ec(0x1c0)](),c['arc'](this[_0x3130ec(0x151)]['x'],this[_0x3130ec(0x151)]['y'],this[_0x3130ec(0x1c7)],0x0,Math['PI']*0x2),c[_0x3130ec(0x160)](),c[_0x3130ec(0x1b5)](),c[_0x3130ec(0x176)]=0x1;}['update'](){const _0x26650c=_0x5dafaf;this[_0x26650c(0x151)]['y']-=0x32/this[_0x26650c(0x1c7)],this[_0x26650c(0x15d)]();}}function distance(_0x3f041e,_0x26e568){const _0x45b9bd=_0x5dafaf,_0x554111=Math[_0x45b9bd(0x1a5)]((_0x3f041e['x']-_0x26e568['x'])**0x2+(_0x3f041e['y']-_0x26e568['y'])**0x2);return _0x554111;}function background(){const _0x958491=_0x5dafaf;c[_0x958491(0x188)]=_0x958491(0x153),c[_0x958491(0x18c)](0x0,0x0,uWidth,uHeight);}function generateWave(_0x1d70d1){const _0x56122e=_0x5dafaf;let _0x3791e1,_0x265973,_0x508dfd,_0x149b94;_0x1d70d1==_0x56122e(0x154)||_0x1d70d1==_0x56122e(0x1b2)||_0x1d70d1=='preWelcome'?(_0x3791e1=Math[_0x56122e(0x175)]()*0x9f6,_0x508dfd=Math[_0x56122e(0x175)]()*0x12c+0x64):(_0x3791e1=0x9f6,_0x508dfd=Math[_0x56122e(0x175)]()*0x12c+0x64);if(_0x1d70d1==_0x56122e(0x1b2)||_0x1d70d1==_0x56122e(0x17a))_0x265973=Math[_0x56122e(0x175)]()*uHeight/0x5;else{if(_0x1d70d1=='preWelcome'||_0x1d70d1==_0x56122e(0x17b))_0x265973=Math[_0x56122e(0x175)]()*0x1f4+0x7d0;else _0x265973=Math[_0x56122e(0x175)]()*uHeight;}_0x149b94=0x64/_0x508dfd,waves[_0x56122e(0x150)](new Wave({'x':_0x3791e1,'y':_0x265973,'waveLength':_0x508dfd,'speed':_0x149b94}));}function generateCloud(_0x240519){const _0x3ab0d5=_0x5dafaf;let _0x4b3212,_0x505f57;if(_0x240519==_0x3ab0d5(0x14b))_0x4b3212=Math[_0x3ab0d5(0x175)]()*0xbb8;else _0x4b3212=0xbb8;_0x505f57=Math[_0x3ab0d5(0x175)]()*0x640,clouds[_0x3ab0d5(0x150)](new Cloud({'position':{'x':_0x4b3212,'y':_0x505f57}}));}function generateWind(){const _0x19a975=_0x5dafaf;currentFrame%windLength==0x0&&winds[_0x19a975(0x150)](new Wind({'position':{'x':-0x64,'y':Math[_0x19a975(0x175)]()*uHeight},'radius':0x64})),currentFrame%windLength==Math[_0x19a975(0x1ba)](windLength/0x4)&&winds[_0x19a975(0x150)](new Wind({'position':{'x':Math[_0x19a975(0x175)]()*uWidth,'y':-0x64},'radius':0x64})),currentFrame%windLength==Math[_0x19a975(0x1ba)](windLength/0x2)&&winds['push'](new Wind({'position':{'x':uWidth+0x64,'y':Math[_0x19a975(0x175)]()*uHeight},'radius':0x64})),currentFrame%windLength==Math[_0x19a975(0x1ba)](windLength*0x3/0x4)&&winds[_0x19a975(0x150)](new Wind({'position':{'x':Math[_0x19a975(0x175)]()*uWidth,'y':uHeight+0x64},'radius':0x64}));}function generateBomb(){const _0x24fd49=_0x5dafaf;if(currentFrame%bombLength==0xa)while(!![]){let _0xd18184=new Bomb({'position':{'x':Math[_0x24fd49(0x175)]()*uWidth,'y':Math[_0x24fd49(0x175)]()*uHeight},'radius':0x64}),_0x525dea=distance(_0xd18184['position'],player['position']);if(_0x525dea>player[_0x24fd49(0x1c7)]*0x2+_0xd18184['radius']){bombs[_0x24fd49(0x150)](_0xd18184);return;}}}function updateClouds(){const _0x53001d=_0x5dafaf;if(clouds[_0x53001d(0x1a4)]<cloudNumber)generateCloud();clouds[_0x53001d(0x1a8)]((_0x397896,_0x201918)=>{const _0x3ce9e0=_0x53001d;_0x397896[_0x3ce9e0(0x151)]['x']+0x3e8<0x0?setTimeout(()=>{const _0x40d8c8=_0x3ce9e0;clouds[_0x40d8c8(0x17c)](_0x201918,0x1);},0x0):_0x397896['update']();});}function updateWaves(_0x12289e){const _0x3e2f65=_0x5dafaf;if(waves[_0x3e2f65(0x1a4)]<waveNumber)generateWave(_0x12289e);if(_0x12289e=='lose')c[_0x3e2f65(0x176)]=0.005;else c[_0x3e2f65(0x176)]=0.15;waves[_0x3e2f65(0x1a8)]((_0x37a36a,_0x5cc951)=>{const _0x131a2c=_0x3e2f65;if(_0x12289e==_0x131a2c(0x17b))_0x37a36a['x']-=_0x37a36a[_0x131a2c(0x173)]*0x3;else _0x37a36a['x']-=_0x37a36a[_0x131a2c(0x173)];(_0x37a36a['x']>uWidth+0x64||_0x37a36a['x']<-_0x37a36a['waveLength']-0x64)&&setTimeout(()=>{const _0x5b5ea6=_0x131a2c;waves[_0x5b5ea6(0x17c)](_0x5cc951,0x1);},0x0);c[_0x131a2c(0x1c0)](),c[_0x131a2c(0x190)](_0x37a36a['x'],_0x37a36a['y']),c[_0x131a2c(0x147)]=_0x131a2c(0x18b),c['strokeStyle']=_0x131a2c(0x191),c[_0x131a2c(0x14f)](_0x37a36a['x']+_0x37a36a[_0x131a2c(0x1a0)],_0x37a36a['y']);if(_0x12289e==_0x131a2c(0x17a))c[_0x131a2c(0x194)]=0x28;else c['lineWidth']=0xa;c[_0x131a2c(0x1b5)]();}),c['globalAlpha']=0x1;}function updateWinds(){const _0x597be7=_0x5dafaf;winds[_0x597be7(0x1a8)]((_0x56596a,_0x176cfe)=>{const _0x2b3e1c=_0x597be7;_0x56596a['update'](),(_0x56596a['position']['x']+_0x56596a['radius']<-windMargin||_0x56596a[_0x2b3e1c(0x151)]['x']-_0x56596a['radius']>uWidth+windMargin||_0x56596a[_0x2b3e1c(0x151)]['y']+_0x56596a['radius']<-windMargin||_0x56596a['position']['y']-_0x56596a['radius']>uHeight+windMargin)&&setTimeout(()=>{winds['splice'](_0x176cfe,0x1);},0x0);});}function updateBombs(){const _0x3d0167=_0x5dafaf;bombs[_0x3d0167(0x1a8)]((_0x168271,_0x4d3e87)=>{const _0x397c77=_0x3d0167;performance[_0x397c77(0x178)]()-_0x168271[_0x397c77(0x1b7)]>=bombDuration&&setTimeout(()=>{const _0x58a291=_0x397c77;bombs[_0x58a291(0x17c)](_0x4d3e87,0x1);},0x0),_0x168271['update']();});}function generateBubbles(){const _0x3343fc=_0x5dafaf;Math['random']()>0.993&&bubbles[_0x3343fc(0x150)](new Circle({'position':{'x':Math[_0x3343fc(0x175)]()*uWidth,'y':uHeight+0x64},'radius':Math[_0x3343fc(0x175)]()*0xa+0xa}));}function updateBubbles(){bubbles['forEach']((_0x1b42c2,_0x557db6)=>{const _0x481428=_0x36ab;if(_0x1b42c2[_0x481428(0x151)]['y']-_0x1b42c2[_0x481428(0x1c7)]<-0x32)setTimeout(()=>{bubbles['splice'](_0x557db6,0x1);},0x0);else _0x1b42c2[_0x481428(0x17f)]();});}function collisionDetection(){const _0x3cde3a=_0x5dafaf;if(gameCondition!==_0x3cde3a(0x1c2))return;let _0x10e9f4=[winds,bombs];_0x10e9f4[_0x3cde3a(0x1a8)]((_0x2e8f82,_0x483450)=>{const _0x2c5803=_0x3cde3a;_0x2e8f82[_0x2c5803(0x1a8)]((_0x335bf5,_0x5edcb1)=>{const _0x42bd62=_0x2c5803;let _0x2ca44d=Math[_0x42bd62(0x182)](_0x335bf5[_0x42bd62(0x151)]['y']-player[_0x42bd62(0x151)]['y'],player['position']['x']-_0x335bf5[_0x42bd62(0x151)]['x']);if(_0x2ca44d>=Math[_0x42bd62(0x19b)]((0.5+_0x335bf5[_0x42bd62(0x1c7)]/player[_0x42bd62(0x1c7)])/(Math['sqrt'](0x3)/0x2))&&_0x2ca44d<=Math['PI']-Math[_0x42bd62(0x19b)]((0.5+_0x335bf5[_0x42bd62(0x1c7)]/player[_0x42bd62(0x1c7)])/(Math[_0x42bd62(0x1a5)](0x3)/0x2))){if(distance(_0x335bf5[_0x42bd62(0x151)],player[_0x42bd62(0x151)])<(_0x335bf5['radius']+player[_0x42bd62(0x1c7)]/0x2)/Math[_0x42bd62(0x1a2)](_0x2ca44d)){if(_0x483450==0x0)setHit('wind');else _0x483450==0x1&&setHit(_0x42bd62(0x1ac));setTimeout(()=>{const _0x58ee4c=_0x42bd62;_0x2e8f82[_0x58ee4c(0x17c)](_0x5edcb1,0x1);},0x0);}}else{if(_0x2ca44d<=Math['atan']((0.5+_0x335bf5['radius']/player[_0x42bd62(0x1c7)])/(Math[_0x42bd62(0x1a5)](0x3)/0x2))&&_0x2ca44d>=Math['PI']/0x6){let _0x4d2afd=_0x2ca44d-Math['PI']/0x6;if(distance(_0x335bf5[_0x42bd62(0x151)],player[_0x42bd62(0x151)])<_0x335bf5[_0x42bd62(0x1c7)]+player[_0x42bd62(0x1c7)]-(_0x335bf5[_0x42bd62(0x1c7)]+player['radius'])*_0x4d2afd**0x2){if(_0x483450==0x0)setHit(_0x42bd62(0x183));else _0x483450==0x1&&setHit('bomb');setTimeout(()=>{const _0x5ed8b3=_0x42bd62;_0x2e8f82[_0x5ed8b3(0x17c)](_0x5edcb1,0x1);},0x0);}}else{if(_0x2ca44d>=Math['PI']-Math[_0x42bd62(0x19b)]((0.5+_0x335bf5['radius']/player[_0x42bd62(0x1c7)])/(Math['sqrt'](0x3)/0x2))&&_0x2ca44d<=Math['PI']*0x5/0x6){let _0x22c4e0=Math['PI']*0x5/0x6-_0x2ca44d;if(distance(_0x335bf5[_0x42bd62(0x151)],player[_0x42bd62(0x151)])<_0x335bf5['radius']+player[_0x42bd62(0x1c7)]-(_0x335bf5[_0x42bd62(0x1c7)]+player[_0x42bd62(0x1c7)])*_0x22c4e0**0x2){if(_0x483450==0x0)setHit(_0x42bd62(0x183));else _0x483450==0x1&&setHit(_0x42bd62(0x1ac));setTimeout(()=>{const _0x36554f=_0x42bd62;_0x2e8f82[_0x36554f(0x17c)](_0x5edcb1,0x1);},0x0);}}else{if(distance(_0x335bf5['position'],player[_0x42bd62(0x151)])<_0x335bf5[_0x42bd62(0x1c7)]+player[_0x42bd62(0x1c7)]){if(_0x483450==0x0)setHit(_0x42bd62(0x183));else _0x483450==0x1&&setHit(_0x42bd62(0x1ac));setTimeout(()=>{const _0x3f7405=_0x42bd62;_0x2e8f82[_0x3f7405(0x17c)](_0x5edcb1,0x1);},0x0);}}}}});});}function difficulty(){const _0x593796=_0x5dafaf;let _0x25c8f4=Math[_0x593796(0x1ba)](currentElapsedTime)/0x1e/0x3e8;bombLength=0x190-Math['trunc'](_0x25c8f4**0.8)*0x14,windLength=0xf0-Math['trunc'](_0x25c8f4**0.8)*0x14;if(bombLength<0x14)bombLength=0x14;if(windLength<0xa)windLength=0xa;}function timeToString(_0x543e00){const _0x2daccc=_0x5dafaf;second=Math[_0x2daccc(0x1ba)](_0x543e00/0x3e8)%0x3c,minute=Math[_0x2daccc(0x1ba)](_0x543e00/0xea60),millisecond=Math['trunc'](_0x543e00)%0x3e8;if(minute<0xa)minStr='0'+minute;else minStr=minute;if(second<0xa)secStr='0'+second;else secStr=second;millisecStr=Math['trunc'](millisecond/0x64);}function drawTimer(){const _0x291303=_0x5dafaf;c[_0x291303(0x188)]=_0x291303(0x1bb),c['fillRect'](0x76c,0x87,0x1ef,0x93);if(gameCondition==_0x291303(0x1c2))timeToString(currentElapsedTime);else gameCondition==_0x291303(0x1c4)&&timeToString(totalElapsedTime);displayStr=minStr+':'+secStr+'.'+millisecStr,c[_0x291303(0x188)]=_0x291303(0x170),c[_0x291303(0x1ca)]='110px\x20Noto\x20Sans\x20TC',c['fillText'](displayStr,0x79e,0xfa);}function animate(){const _0x31501b=_0x5dafaf;requestAnimationFrame(animate),timeNow=performance['now']();if(timeNow-timeThen<fpsInterval)return;if(timeNow-timeLast<0x64)currentElapsedTime=performance['now']()-sessionStartTime;else gameCondition==_0x31501b(0x1c2)&&setTransition();currentFrame+=0x1,background();switch(gameCondition){case _0x31501b(0x17b):welcomeUpdate();break;case _0x31501b(0x1c9):transitionUpdate();break;case _0x31501b(0x1c2):playUpdate();break;case'hit':hitUpdate();break;case _0x31501b(0x17a):loseUpdate();break;}timeThen+=fpsInterval,timeLast=timeNow;}function setWelcome(){const _0x2de12e=_0x5dafaf;hitWinds=[],winds=[],bombs=[],waves=[],bubbles=[],clouds=[],lastTime=[0x0,0x0,0x0];for(i=0x0;i<waveNumber;i++){generateWave(_0x2de12e(0x14b));}for(i=0x0;i<cloudNumber;i++){generateCloud(_0x2de12e(0x14b));}playerPre=new Ship({'position':{'x':0x2bc,'y':0x7d0},'motions':{'move':{'imageSrc':_0x2de12e(0x193),'scale':0x1,'frames':0x2,'frameCurrent':0x1,'frameSlow':0x14,'frameWidth':0x2ee}}}),tugboat=new Ship({'position':{'x':0x708,'y':playerPre[_0x2de12e(0x151)]['y']+0x5a},'motions':{'move':{'imageSrc':_0x2de12e(0x19a),'scale':0x1,'frames':0x2,'frameCurrent':0x1,'frameSlow':0x14,'frameWidth':0x2ee}}});}function welcomeUpdate(){const _0x440c6d=_0x5dafaf;var _0xff8dca=c[_0x440c6d(0x186)](0x0,0x0,0x0,0x7d0);_0xff8dca[_0x440c6d(0x181)](0x0,'rgba(92,236,255,1)'),_0xff8dca[_0x440c6d(0x181)](0x1,_0x440c6d(0x159)),c[_0x440c6d(0x188)]=_0xff8dca,c[_0x440c6d(0x18c)](0x0,0x0,0x9c4,0x7d0),updateClouds(),updateWaves(_0x440c6d(0x17b)),c[_0x440c6d(0x1ab)]='white',c[_0x440c6d(0x194)]=0x28,c[_0x440c6d(0x15b)]=_0x440c6d(0x18b),c[_0x440c6d(0x1ca)]=_0x440c6d(0x161),c[_0x440c6d(0x157)](_0x440c6d(0x18a),0x258,0x366),c['fillStyle']='rgba(255,165,0,1)',c[_0x440c6d(0x14e)](_0x440c6d(0x18a),0x258,0x366),c[_0x440c6d(0x1ca)]=_0x440c6d(0x195),c[_0x440c6d(0x157)]('Goodbye,\x20Floating\x20Restaurant',0x25d,0x3fc),c[_0x440c6d(0x14e)]('Goodbye,\x20Floating\x20Restaurant',0x25d,0x3fc),c[_0x440c6d(0x188)]=_0x440c6d(0x18d),c['font']='109px\x20Noto\x20Sans\x20TC',c[_0x440c6d(0x14e)](_0x440c6d(0x166),0x258,0x514),c['font']=_0x440c6d(0x1aa),c[_0x440c6d(0x14e)]('T\x20a\x20p\x20\x20\x20\x20a\x20n\x20y\x20w\x20h\x20e\x20r\x20e\x20\x20\x20\x20t\x20o\x20\x20\x20\x20s\x20t\x20a\x20r\x20t',0x258,0x578),c['fillStyle']=_0x440c6d(0x191),c[_0x440c6d(0x1ca)]=_0x440c6d(0x1c6),c[_0x440c6d(0x14e)](_0x440c6d(0x1be),0x64,0x960);let _0x402b88=[playerPre,tugboat];playerPre['currentMotion']=playerPre[_0x440c6d(0x1b1)][_0x440c6d(0x155)],tugboat[_0x440c6d(0x184)]=tugboat['motions']['move'],c[_0x440c6d(0x1ab)]=_0x440c6d(0x163),c[_0x440c6d(0x194)]=0x8,c[_0x440c6d(0x1c0)](),c['moveTo'](tugboat['position']['x'],tugboat[_0x440c6d(0x151)]['y']),c[_0x440c6d(0x14f)](playerPre[_0x440c6d(0x151)]['x'],playerPre[_0x440c6d(0x151)]['y']),c[_0x440c6d(0x1b5)](),_0x402b88[_0x440c6d(0x1a8)](_0xbb05c1=>{const _0x484090=_0x440c6d;_0xbb05c1[_0x484090(0x18f)](),_0xbb05c1['draw']();});}function setTransition(){const _0x3d0320=_0x5dafaf;gameCondition=_0x3d0320(0x1c9),playerPre=new Ship({'position':{'x':-0x258,'y':uHeight/0x2},'motions':{'move':{'imageSrc':_0x3d0320(0x193),'scale':0x8/0xf,'frames':0x2,'frameCurrent':0x1,'frameSlow':0x14,'frameWidth':0x2ee}}}),tugboat=new Ship({'position':{'x':playerPre[_0x3d0320(0x151)]['x']+0x1f4,'y':playerPre[_0x3d0320(0x151)]['y']+0x32},'motions':{'move':{'imageSrc':_0x3d0320(0x19a),'scale':0x8/0xf,'frames':0x2,'frameCurrent':0x1,'frameSlow':0x14,'frameWidth':0x2ee}}}),waves=[];for(i=0x0;i<waveNumber;i++){generateWave(_0x3d0320(0x154));}}function transitionUpdate(){const _0x132464=_0x5dafaf;updateWaves(_0x132464(0x1c9));let _0x210fce=[playerPre,tugboat];playerPre['position']['x']<uWidth/0x2&&(playerPre[_0x132464(0x151)]['x']+=0xa),tugboat[_0x132464(0x151)]['x']+=0xa,playerPre[_0x132464(0x184)]=playerPre[_0x132464(0x1b1)][_0x132464(0x155)],tugboat[_0x132464(0x184)]=tugboat[_0x132464(0x1b1)][_0x132464(0x155)],playerPre[_0x132464(0x151)]['x']<uWidth/0x2&&(c[_0x132464(0x1ab)]=_0x132464(0x163),c[_0x132464(0x194)]=0x4,c[_0x132464(0x1c0)](),c['moveTo'](tugboat['position']['x'],tugboat[_0x132464(0x151)]['y']),c[_0x132464(0x14f)](playerPre[_0x132464(0x151)]['x'],playerPre[_0x132464(0x151)]['y']),c[_0x132464(0x1b5)]()),_0x210fce[_0x132464(0x1a8)](_0x2608a8=>{const _0x4f423c=_0x132464;_0x2608a8['applyMotion'](),_0x2608a8[_0x4f423c(0x15d)]();}),tugboat['position']['x']<0x9f6&&(c['fillStyle']='white',c[_0x132464(0x1ca)]='80px\x20Noto\x20Sans\x20TC',c[_0x132464(0x14e)](_0x132464(0x164),0x190,0x190),c[_0x132464(0x14e)](_0x132464(0x168),0x190,0x226),c['fillText'](_0x132464(0x16c),0x190,0x2bc),c[_0x132464(0x1ca)]=_0x132464(0x180),c[_0x132464(0x14e)]('B\x20y\x20\x20\x20t\x20a\x20p\x20p\x20i\x20n\x20g\x20\x20\x20o\x20n\x20\x20\x20t\x20h\x20e\x20\x20\x20\x20p\x20o\x20s\x20i\x20t\x20i\x20o\x20n\x20\x20\x20y\x20o\x20u\x20\x20\x20w\x20a\x20n\x20t\x20\x20\x20t\x20o',0x190,0x708),c[_0x132464(0x14e)](_0x132464(0x1bf),0x190,0x76c),c['fillText'](_0x132464(0x1bd),0x190,0x7d0),c[_0x132464(0x14e)](_0x132464(0x15e),0x190,0x834)),tugboat['position']['x']>0x9f6&&(c[_0x132464(0x1ca)]=_0x132464(0x18e),c['fillStyle']=_0x132464(0x191),c[_0x132464(0x194)]=0x78,c[_0x132464(0x15b)]=_0x132464(0x18b),c[_0x132464(0x157)]('開始',0x320,0x4e2),c[_0x132464(0x188)]=_0x132464(0x170),c[_0x132464(0x14e)]('開始',0x320,0x4e2),c[_0x132464(0x188)]=_0x132464(0x191),c[_0x132464(0x1ca)]=_0x132464(0x1cc),c[_0x132464(0x157)](_0x132464(0x19c),0x334,0x672),c[_0x132464(0x188)]='orange',c[_0x132464(0x14e)](_0x132464(0x19c),0x334,0x672)),tugboat['position']['x']>uWidth+0x190&&setPlay();}function setPlay(){const _0x429e76=_0x5dafaf;playedTimes+=0x1,gameCondition='play',currentElapsedTime=0x0,previousTime=0x0,sessionStartTime=performance[_0x429e76(0x178)](),windLength=0xf0,bombLength=0x190,player=new Jumbo({'position':{'x':uWidth/0x2,'y':uHeight/0x2},'radius':0xc8,'motions':{'move':{'imageSrc':'./img/jumbo.png','scale':0x8/0xf,'frames':0x2,'frameSlow':0x14,'frameWidth':0x2ee},'sink':{'imageSrc':'./img/jumbo_sink.png','scale':0x8/0xf,'frames':0x8,'frameSlow':0xf,'frameWidth':0x2ee}}}),target=new Location({'position':{'x':player[_0x429e76(0x151)]['x'],'y':player[_0x429e76(0x151)]['y']}}),winds=[],bombs=[],hitWinds=[],bubbles=[];}function playUpdate(){updateWaves('play'),difficulty(),generateWind(),generateBomb(),player['choooseMotion'](),player['update'](),updateBombs(),updateWinds(),drawTimer(),collisionDetection();}function _0x36ab(_0x59612a,_0x399fec){const _0xbbeef4=_0xbbee();return _0x36ab=function(_0x36ab23,_0x2562db){_0x36ab23=_0x36ab23-0x147;let _0x49c66b=_0xbbeef4[_0x36ab23];return _0x49c66b;},_0x36ab(_0x59612a,_0x399fec);}function setHit(_0x30039e){const _0x36331c=_0x5dafaf;gameCondition=_0x36331c(0x1c4),totalElapsedTime=currentElapsedTime,player[_0x36331c(0x17e)]=0x1;if(_0x30039e==_0x36331c(0x183))hitWinds[_0x36331c(0x150)](new Attack({'position':{'x':player[_0x36331c(0x151)]['x'],'y':player[_0x36331c(0x151)]['y']},'imageSrc':_0x36331c(0x16d)}));if(_0x30039e==_0x36331c(0x1ac))hitWinds[_0x36331c(0x150)](new Attack({'position':{'x':player['position']['x'],'y':player[_0x36331c(0x151)]['y']},'imageSrc':_0x36331c(0x189)}));}function hitUpdate(){const _0x21aa4c=_0x5dafaf;updateWaves(_0x21aa4c(0x1c4)),player[_0x21aa4c(0x1cb)](),player[_0x21aa4c(0x17f)]();if(hitWinds['length']>0x0)hitWinds[0x0][_0x21aa4c(0x17f)]();updateBombs(),updateWinds(),drawTimer();}function timeArrayTostring(_0x352720){const _0x318660=_0x5dafaf;let _0x20c0ce,_0x4a4aeb,_0x4195fc;if(_0x352720[0x0]<0xa)_0x20c0ce='0'+_0x352720[0x0];else _0x20c0ce=_0x352720[0x0];if(_0x352720[0x1]<0xa)_0x4a4aeb='0'+_0x352720[0x1];else _0x4a4aeb=_0x352720[0x1];return _0x4195fc=Math[_0x318660(0x1ba)](_0x352720[0x2]/0x64),_0x20c0ce+':'+_0x4a4aeb+'.'+_0x4195fc;}function setLose(){const _0x59de00=_0x5dafaf;gameCondition='lose',lastTime=[minute,second,millisecond];minute*0x3c+second+millisecond/0x3e8>bestTime[0x0]*0x3c+bestTime[0x1]+bestTime[0x2]/0x3e8&&(bestTime=[minute,second,millisecond]);lastTimeStr=timeArrayTostring(lastTime),bestTimeStr=timeArrayTostring(bestTime),losePicture=new StillImage({'x':0x0,'y':0x0,'width':uWidth,'height':uHeight,'imageSrc':_0x59de00(0x162)}),waves=[];for(i=0x0;i<waveNumber;i++){generateWave(_0x59de00(0x1b2));}}function loseUpdate(){const _0x3f0cb8=_0x5dafaf;losePicture['draw'](),updateWaves(_0x3f0cb8(0x17a)),generateBubbles(),updateBubbles(),c[_0x3f0cb8(0x1ab)]='white',c[_0x3f0cb8(0x194)]=0x32,c[_0x3f0cb8(0x15b)]='round',c[_0x3f0cb8(0x1ca)]=_0x3f0cb8(0x15c),c[_0x3f0cb8(0x157)]('遊戲結束',0x29e,0x320),c[_0x3f0cb8(0x188)]='orange',c[_0x3f0cb8(0x14e)]('遊戲結束',0x29e,0x320),c[_0x3f0cb8(0x1ca)]=_0x3f0cb8(0x15a),c[_0x3f0cb8(0x157)]('Game\x20Over',0x29e,0x44c),c[_0x3f0cb8(0x14e)]('Game\x20Over',0x29e,0x44c),c['fillStyle']=_0x3f0cb8(0x191),c['font']=_0x3f0cb8(0x15f),c[_0x3f0cb8(0x14e)]('今次時間',0x280,0x5be),c['fillText'](_0x3f0cb8(0x1b3),0x280,0x71c),c['font']=_0x3f0cb8(0x185),c[_0x3f0cb8(0x14e)](_0x3f0cb8(0x1cd),0x280,0x62c),c['font']=_0x3f0cb8(0x1b4),c['fillText']('Best\x20game',0x280,0x78a),c[_0x3f0cb8(0x1ca)]=_0x3f0cb8(0x167),c[_0x3f0cb8(0x14e)](lastTimeStr,0x4b0,0x60e),c[_0x3f0cb8(0x14e)](bestTimeStr,0x4b0,0x76c);}function handleDown(_0x41c0cd){const _0x3b275a=_0x5dafaf;var _0x188344,_0x22068a;const _0xc9822c=canvas[_0x3b275a(0x199)]();_0x188344=(_0x41c0cd[_0x3b275a(0x14d)]-_0xc9822c[_0x3b275a(0x16e)])/ratio,_0x22068a=(_0x41c0cd['clientY']-_0xc9822c[_0x3b275a(0x1a6)])/ratio,controlSettings(_0x188344,_0x22068a);}function handleStart(_0x35af14){const _0x2977de=_0x5dafaf;canvas[_0x2977de(0x16f)](_0x2977de(0x1c5),handleDown);var _0x52bbfb,_0x1905cd;const _0x4246a=canvas[_0x2977de(0x199)]();_0x52bbfb=(_0x35af14[_0x2977de(0x1b9)][0x0][_0x2977de(0x19e)]-_0x4246a['left'])/ratio,_0x1905cd=(_0x35af14['touches'][0x0][_0x2977de(0x152)]-_0x4246a[_0x2977de(0x1a6)])/ratio,controlSettings(_0x52bbfb,_0x1905cd);}function controlSettings(_0x4cf064,_0x510faa){const _0x2bf433=_0x5dafaf;if(gameCondition==_0x2bf433(0x17b)||gameCondition==_0x2bf433(0x17a))setTransition();else gameCondition==_0x2bf433(0x1c2)&&(target['position']['x']=_0x4cf064,target['position']['y']=_0x510faa);}function handleEnd(){}function _0xbbee(){const _0x1d26ed=['now','sink','lose','welcome','splice','19332aPKbjg','frameCurrent','update','60px\x20Noto\x20Sans\x20TC','addColorStop','atan2','wind','currentMotion','82px\x20Noto\x20Sans\x20TC','createLinearGradient','addEventListener','fillStyle','./img/blast.png','再見海鮮舫','round','fillRect','rgba(30,30,30,1)','500px\x20Noto\x20Sans\x20TC','applyMotion','moveTo','white','./img/dynamite.png','./img/jumbo.png','lineWidth','83px\x20Noto\x20Sans\x20TC','./img/clouds.png','width','touchstart','getBoundingClientRect','./img/boat.png','atan','Start','74CQhuIY','pageX','min','waveLength','abs','sin','frameWidth','length','sqrt','top','src','forEach','mouseup','76px\x20Noto\x20Sans\x20TC','strokeStyle','bomb','37443uDLloM','frames','direction','DOMContentLoaded','motions','preLose','最佳時間','81px\x20Noto\x20Sans\x20TC','stroke','33812090RjlToK','startTime','scale','touches','trunc','rgba(225,225,225,0.2)','querySelector','f\x20l\x20o\x20a\x20t\x20i\x20n\x20g\x20\x20\x20r\x20e\x20s\x20t\x20a\x20u\x20r\x20a\x20n\x20t\x20.\x20\x20\x20L\x20e\x20t\x20\x27\x20s\x20\x20\x20s\x20e\x20e\x20\x20\x20h\x20o\x20w\x20\x20\x20l\x20o\x20n\x20g','Eddy\x20Sham\x202022','g\x20o\x20,\x20\x20\x20y\x20o\x20u\x20\x20\x20c\x20a\x20n\x20\x20\x20c\x20o\x20n\x20t\x20r\x20o\x20l\x20\x20\x20t\x20h\x20e\x20\x20\x20d\x20i\x20r\x20e\x20c\x20t\x20i\x20o\x20n\x20\x20\x20o\x20f\x20\x20\x20t\x20h\x20e','beginPath','4829336rhXSkj','play','drawImage','hit','mousedown','65px\x20Noto\x20Sans\x20TC','radius','imageSrc','transition','font','choooseMotion','405px\x20Noto\x20Sans\x20TC','Last\x20game','lineCap','./img/wind_new.png','height','rgba(225,225,225,0.3)','preWelcome','686298RALLkE','clientX','fillText','lineTo','push','position','pageY','rgba(0,88,147,1)','preTransition','move','1991152ztCyfQ','strokeText','70YYqWfu','rgba(174,255,249,1)','213px\x20Noto\x20Sans\x20TC','lineJoin','290px\x20Noto\x20Sans\x20TC','draw','y\x20o\x20u\x20\x20\x20c\x20a\x20n\x20\x20\x20g\x20o\x20!','101px\x20Noto\x20Sans\x20TC','fill','248px\x20Noto\x20Sans\x20TC','./img/bottom.jpg','rgba(20,20,20,1)','透\x20過\x20撳\x20你\x20想\x20去\x20嘅\x20位\x20置\x20控\x20制\x20海\x20鮮\x20舫\x20移\x20動\x20嘅','touchcancel','隨\x20\x20便\x20\x20撳\x20\x20個\x20\x20位\x20\x20開\x20\x20始\x20\x20啦','200px\x20Noto\x20Sans\x20TC','方\x20向\x20，\x20協\x20助\x20佢\x20避\x20開\x20危\x20險\x20。\x20睇\x20下\x20你\x20可\x20以\x20堅','image','2374946UogPuq','canvas','持\x20到\x20幾\x20耐\x20！','./img/windKnife.png','left','removeEventListener','orange','color','touchmove','speed','9jcMKfu','random','globalAlpha','frameSlow'];_0xbbee=function(){return _0x1d26ed;};return _0xbbee();}function handleMove(){}function handleCancel(){}function handleUp(){}function startup(){const _0x4451de=_0x5dafaf;canvas[_0x4451de(0x187)](_0x4451de(0x198),handleStart),canvas[_0x4451de(0x187)]('touchend',handleEnd),canvas[_0x4451de(0x187)](_0x4451de(0x165),handleCancel),canvas[_0x4451de(0x187)](_0x4451de(0x172),handleMove),canvas[_0x4451de(0x187)](_0x4451de(0x1a9),handleUp),canvas['addEventListener']('mousedown',handleDown),setWelcome(),animate();}document[_0x5dafaf(0x187)](_0x5dafaf(0x1b0),startup);