const _0x28e991=_0x27a5;(function(_0x3b02e7,_0x5b8956){const _0xecd344=_0x27a5,_0x2a2aa4=_0x3b02e7();while(!![]){try{const _0x9913d8=-parseInt(_0xecd344(0x144))/0x1*(-parseInt(_0xecd344(0x161))/0x2)+parseInt(_0xecd344(0x15a))/0x3*(parseInt(_0xecd344(0x165))/0x4)+parseInt(_0xecd344(0x109))/0x5+parseInt(_0xecd344(0x173))/0x6*(-parseInt(_0xecd344(0x11a))/0x7)+parseInt(_0xecd344(0x107))/0x8*(parseInt(_0xecd344(0x168))/0x9)+-parseInt(_0xecd344(0x159))/0xa+-parseInt(_0xecd344(0x15b))/0xb*(-parseInt(_0xecd344(0x122))/0xc);if(_0x9913d8===_0x5b8956)break;else _0x2a2aa4['push'](_0x2a2aa4['shift']());}catch(_0x30915a){_0x2a2aa4['push'](_0x2a2aa4['shift']());}}}(_0xd023,0xd9ef3));const canvas=document[_0x28e991(0xff)]('canvas'),c=canvas[_0x28e991(0x126)]('2d'),uWidth=0x9c4,uHeight=0x9c4,fps=0x3c,fpsInterval=0x3e8/fps,ratio=Math[_0x28e991(0x13a)](innerWidth/uWidth,innerHeight/uHeight)*0.98;ratio<0x1?(canvas['width']=uWidth*ratio,canvas[_0x28e991(0x12f)]=uHeight*ratio,c[_0x28e991(0x14b)](ratio,ratio)):(canvas[_0x28e991(0x11f)]=uWidth,canvas['height']=uHeight);let touchScreen=![];const windMargin=0x3e8,bombDuration=0x4e20,waveNumber=0x32,cloudNumber=0xf;let gameCondition=_0x28e991(0x16b),preTransition=!![],currentFrame=0x0,playedTimes=0x0,hitWinds=[],winds=[],bombs=[],waves=[],bubbles=[],clouds=[],lastTime=[0x0,0x0,0x0],bestTime=[0x0,0x0,0x0],sessionStartTime,sessionElapsedTime,previousTime,currentElapsedTime,totalElapsedTime,player,target,mousedownPosition,touchstartPosition,losePicture,playerPre,tugboat,bombLength,windLength,minute,second,millisecond,secStr,millisecStr,minStr,displayStr,lastTimeStr,bestTimeStr;var timeNow=performance[_0x28e991(0x133)]();let timeThen=timeNow,timeLast=timeNow;class Location{constructor({position:_0xb29070}){const _0x253ae8=_0x28e991;this[_0x253ae8(0x10c)]=_0xb29070;}}class Wave{constructor({x:_0xa6b06,y:_0x526fe3,waveLength:_0x2dbd11,speed:_0x15951b}){const _0x3e3810=_0x28e991;this['x']=_0xa6b06,this['y']=_0x526fe3,this[_0x3e3810(0x156)]=_0x2dbd11,this[_0x3e3810(0x148)]=_0x15951b;}}class StillImage{constructor({x:_0x2ea482,y:_0x33a4f1,width:_0x35147c,height:_0x3d93a0,imageSrc:_0x37ea64}){const _0x557f2d=_0x28e991;this['x']=_0x2ea482,this['y']=_0x33a4f1,this[_0x557f2d(0x11f)]=_0x35147c,this[_0x557f2d(0x12f)]=_0x3d93a0,this[_0x557f2d(0x175)]=new Image(),this['image'][_0x557f2d(0x174)]=_0x37ea64;}[_0x28e991(0x119)](){const _0x3c5c4a=_0x28e991;c[_0x3c5c4a(0x13f)](this['image'],this['x'],this['y'],this[_0x3c5c4a(0x11f)],this['height']);}}class Sprite{constructor({position:_0x4524bb}){const _0x430316=_0x28e991;this[_0x430316(0x10c)]=_0x4524bb,this[_0x430316(0x14b)]=0x1,this['frames']=0x1,this[_0x430316(0x129)]=0x1,this['frameSlow']=0x8,this[_0x430316(0x12c)]=0x1;}['draw'](){const _0x33206d=_0x28e991;c['drawImage'](this[_0x33206d(0x175)],Math['trunc'](this[_0x33206d(0x129)]%(this[_0x33206d(0x16d)]*this[_0x33206d(0xfa)])/this[_0x33206d(0xfa)])*this[_0x33206d(0x12c)],0x0,this['frameWidth'],this['image']['height'],this[_0x33206d(0x10c)]['x']-this['frameWidth']*this[_0x33206d(0x14b)]/0x2,this[_0x33206d(0x10c)]['y']-this[_0x33206d(0x175)][_0x33206d(0x12f)]*this[_0x33206d(0x14b)]/0x2,this[_0x33206d(0x12c)]*this[_0x33206d(0x14b)],this[_0x33206d(0x175)][_0x33206d(0x12f)]*this[_0x33206d(0x14b)]),this[_0x33206d(0x129)]++;}}class Cloud{constructor({position:_0x3f5b91}){const _0x527580=_0x28e991;this['position']=_0x3f5b91,this[_0x527580(0x14b)]=Math[_0x527580(0x12e)]()*0.8+0.2,this[_0x527580(0x16d)]=0xa,this[_0x527580(0x12c)]=0x3e8,this['n']=Math[_0x527580(0x130)](Math[_0x527580(0x12e)]()*0xa),this[_0x527580(0x148)]=(_0x3f5b91['y']/0x9c4/0x3+this[_0x527580(0x14b)]/0x2)/0x2,this['image']=new Image(),this[_0x527580(0x175)]['src']=_0x527580(0x104);}[_0x28e991(0x119)](){const _0x39fc1a=_0x28e991;c['drawImage'](this['image'],this['n']*this[_0x39fc1a(0x12c)],0x0,this[_0x39fc1a(0x12c)],this['image'][_0x39fc1a(0x12f)],this[_0x39fc1a(0x10c)]['x']-this[_0x39fc1a(0x12c)]*this[_0x39fc1a(0x14b)]/0x2,this[_0x39fc1a(0x10c)]['y']-this[_0x39fc1a(0x175)][_0x39fc1a(0x12f)]*this['scale']/0x2,this[_0x39fc1a(0x12c)]*this[_0x39fc1a(0x14b)],this['image'][_0x39fc1a(0x12f)]*this[_0x39fc1a(0x14b)]);}[_0x28e991(0x100)](){const _0x33e6a9=_0x28e991;this['position']['x']-=this[_0x33e6a9(0x148)],this[_0x33e6a9(0x119)]();}}class Wind extends Sprite{constructor({position:_0x381c11,radius:_0x230043}){const _0x481672=_0x28e991;super({'position':_0x381c11}),this[_0x481672(0x157)]=_0x230043,this[_0x481672(0x148)]=0x5,this[_0x481672(0x135)]=Math[_0x481672(0xf9)](player['position']['y']-this[_0x481672(0x10c)]['y'],player[_0x481672(0x10c)]['x']-this[_0x481672(0x10c)]['x'])+(Math[_0x481672(0x12e)]()-0.5),this[_0x481672(0x175)]=new Image(),this[_0x481672(0x175)][_0x481672(0x174)]=_0x481672(0x102),this[_0x481672(0x14b)]=0x4/0x9,this[_0x481672(0x16d)]=0x2,this[_0x481672(0x129)]=0x1,this[_0x481672(0xfa)]=0xf,this['frameWidth']=0x1c2;}[_0x28e991(0x100)](){const _0x2f28e5=_0x28e991;this[_0x2f28e5(0x10c)]['x']+=this['speed']*Math['cos'](this['direction']),this[_0x2f28e5(0x10c)]['y']+=this[_0x2f28e5(0x148)]*Math[_0x2f28e5(0x113)](this[_0x2f28e5(0x135)]),this['draw']();}}class Jumbo extends Sprite{constructor({position:_0x257033,radius:_0x46a55f,motions:_0x3ecdfc}){const _0x5d10c9=_0x28e991;super({'position':_0x257033}),this[_0x5d10c9(0x157)]=_0x46a55f,this[_0x5d10c9(0xf4)]=_0x3ecdfc;for(const _0x2c6af8 in this[_0x5d10c9(0xf4)]){_0x3ecdfc[_0x2c6af8][_0x5d10c9(0x175)]=new Image(),_0x3ecdfc[_0x2c6af8][_0x5d10c9(0x175)]['src']=_0x3ecdfc[_0x2c6af8][_0x5d10c9(0xec)];}this[_0x5d10c9(0x129)]=0x1;}[_0x28e991(0x12b)](){const _0x42dfcc=_0x28e991;this[_0x42dfcc(0x175)]=this[_0x42dfcc(0x120)][_0x42dfcc(0x175)],this[_0x42dfcc(0x175)][_0x42dfcc(0x174)]=this[_0x42dfcc(0x120)]['imageSrc'],this['scale']=this[_0x42dfcc(0x120)][_0x42dfcc(0x14b)],this[_0x42dfcc(0x16d)]=this[_0x42dfcc(0x120)][_0x42dfcc(0x16d)],this[_0x42dfcc(0x12c)]=this[_0x42dfcc(0x120)][_0x42dfcc(0x12c)],this[_0x42dfcc(0xfa)]=this[_0x42dfcc(0x120)][_0x42dfcc(0xfa)];}['choooseMotion'](){const _0xca113c=_0x28e991;if(gameCondition==_0xca113c(0x15d))this[_0xca113c(0x120)]=this[_0xca113c(0xf4)][_0xca113c(0x164)];else gameCondition=='play'&&(this[_0xca113c(0x120)]=this['motions'][_0xca113c(0xee)]);this[_0xca113c(0x12b)]();}[_0x28e991(0x100)](){const _0x391717=_0x28e991;gameCondition==_0x391717(0x125)&&(this[_0x391717(0x148)]=0x5*Math[_0x391717(0xfd)](Math[_0x391717(0x13c)](distance(this[_0x391717(0x10c)],target[_0x391717(0x10c)])/0x64)),this['direction']=Math[_0x391717(0xf9)](target[_0x391717(0x10c)]['y']-this[_0x391717(0x10c)]['y'],target[_0x391717(0x10c)]['x']-this['position']['x']),this[_0x391717(0x10c)]['x']+=this[_0x391717(0x148)]*Math[_0x391717(0x118)](this[_0x391717(0x135)]),this[_0x391717(0x10c)]['y']+=this[_0x391717(0x148)]*Math[_0x391717(0x113)](this['direction'])),this[_0x391717(0x119)](),gameCondition==_0x391717(0x15d)&&this[_0x391717(0x129)]>=this[_0x391717(0xf4)][_0x391717(0x164)][_0x391717(0x16d)]*this['motions'][_0x391717(0x164)]['frameSlow']&&setLose();}}class Ship extends Sprite{constructor({position:_0x560552,motions:_0x4ef308}){const _0x2cdf89=_0x28e991;super({'position':_0x560552}),this[_0x2cdf89(0xf4)]=_0x4ef308;for(const _0x275011 in this[_0x2cdf89(0xf4)]){_0x4ef308[_0x275011]['image']=new Image(),_0x4ef308[_0x275011]['image'][_0x2cdf89(0x174)]=_0x4ef308[_0x275011][_0x2cdf89(0xec)];}}['applyMotion'](){const _0x92dd1e=_0x28e991;this[_0x92dd1e(0x175)]=this[_0x92dd1e(0x120)][_0x92dd1e(0x175)],this[_0x92dd1e(0x175)][_0x92dd1e(0x174)]=this['currentMotion']['imageSrc'],this['scale']=this[_0x92dd1e(0x120)][_0x92dd1e(0x14b)],this[_0x92dd1e(0x16d)]=this['currentMotion'][_0x92dd1e(0x16d)],this[_0x92dd1e(0x12c)]=this[_0x92dd1e(0x120)][_0x92dd1e(0x12c)],this[_0x92dd1e(0xfa)]=this[_0x92dd1e(0x120)]['frameSlow'];}}class Attack extends Sprite{constructor({position:_0x34f278,imageSrc:_0x5aba0a}){const _0x3d2f41=_0x28e991;super({'position':_0x34f278}),this['startTime']=performance[_0x3d2f41(0x133)](),this['image']=new Image(),this[_0x3d2f41(0x175)]['src']=_0x5aba0a,this[_0x3d2f41(0x14b)]=0x4/0x5,this[_0x3d2f41(0x16d)]=0x4,this['frameCurrent']=0x1,this[_0x3d2f41(0xfa)]=0xa,this[_0x3d2f41(0x12c)]=0x1f4;}[_0x28e991(0x100)](){const _0x3cdd30=_0x28e991;if(this['frameCurrent']<this[_0x3cdd30(0xfa)]*this[_0x3cdd30(0x16d)])this[_0x3cdd30(0x119)]();}}class Bomb extends Sprite{constructor({position:_0x4439ca,radius:_0x486c51}){const _0x1700f4=_0x28e991;super({'position':_0x4439ca}),this[_0x1700f4(0x157)]=_0x486c51,this[_0x1700f4(0x123)]=performance['now'](),this[_0x1700f4(0x175)]=new Image(),this[_0x1700f4(0x175)]['src']='./img/dynamite.png',this[_0x1700f4(0x14b)]=0x4/0x9,this['frames']=0x2,this[_0x1700f4(0x129)]=0x1,this[_0x1700f4(0xfa)]=0x14,this[_0x1700f4(0x12c)]=0x1c2;}['update'](){const _0x9733a=_0x28e991;let _0x4fb946=Math['atan']((bombDuration-(performance['now']()-this[_0x9733a(0x123)]))/0x7d0);if(_0x4fb946>0x0)c[_0x9733a(0x152)]=_0x4fb946;else c[_0x9733a(0x152)]=0x0;this[_0x9733a(0x119)](),c[_0x9733a(0x152)]=0x1;}}function _0x27a5(_0x592e82,_0x286236){const _0xd023d8=_0xd023();return _0x27a5=function(_0x27a542,_0x8fc11f){_0x27a542=_0x27a542-0xe9;let _0x3a4fc5=_0xd023d8[_0x27a542];return _0x3a4fc5;},_0x27a5(_0x592e82,_0x286236);}class Circle{constructor({position:_0x45853e,radius:_0x31291e,color:color=_0x28e991(0x163),strokeColor:strokeColor=_0x28e991(0xfc)}){const _0x32d364=_0x28e991;this[_0x32d364(0x10c)]=_0x45853e,this[_0x32d364(0x157)]=_0x31291e,this[_0x32d364(0x169)]=color,this['strokeColor']=strokeColor;}[_0x28e991(0x119)](){const _0x47bb1e=_0x28e991;c[_0x47bb1e(0xed)]=this[_0x47bb1e(0x16f)],c['lineWidth']=0x5,c['fillStyle']=this[_0x47bb1e(0x169)],c[_0x47bb1e(0x152)]=0.3,c[_0x47bb1e(0x112)](),c[_0x47bb1e(0x16c)](this['position']['x'],this[_0x47bb1e(0x10c)]['y'],this[_0x47bb1e(0x157)],0x0,Math['PI']*0x2),c[_0x47bb1e(0xea)](),c[_0x47bb1e(0x170)](),c[_0x47bb1e(0x152)]=0x1;}[_0x28e991(0x100)](){const _0x3281a3=_0x28e991;this['position']['y']-=0x32/this['radius'],this[_0x3281a3(0x119)]();}}function distance(_0x18538c,_0x429a96){const _0x1877b8=_0x28e991,_0x56d39c=Math[_0x1877b8(0x154)]((_0x18538c['x']-_0x429a96['x'])**0x2+(_0x18538c['y']-_0x429a96['y'])**0x2);return _0x56d39c;}function background(){const _0x321ff2=_0x28e991;c[_0x321ff2(0x172)]=_0x321ff2(0x10b),c[_0x321ff2(0x12d)](0x0,0x0,uWidth,uHeight);}function generateWave(_0x248c6a){const _0x360925=_0x28e991;let _0x3ee253,_0x142a20,_0x5e09d2,_0x499e35;_0x248c6a==_0x360925(0x13e)||_0x248c6a==_0x360925(0x171)||_0x248c6a=='preWelcome'?(_0x3ee253=Math[_0x360925(0x12e)]()*uWidth,_0x5e09d2=Math[_0x360925(0x12e)]()*0x12c+0x64):(_0x3ee253=0x9f6,_0x5e09d2=Math[_0x360925(0x12e)]()*0x12c+0x64);if(_0x248c6a==_0x360925(0x171)||_0x248c6a==_0x360925(0x127))_0x142a20=Math[_0x360925(0x12e)]()*uHeight/0x5;else{if(_0x248c6a=='preWelcome'||_0x248c6a==_0x360925(0x16b))_0x142a20=Math[_0x360925(0x12e)]()*0x1f4+0x7d0;else _0x142a20=Math['random']()*uHeight;}_0x499e35=0x64/_0x5e09d2,waves[_0x360925(0x10e)](new Wave({'x':_0x3ee253,'y':_0x142a20,'waveLength':_0x5e09d2,'speed':_0x499e35}));}function generateCloud(_0x4dc69d){const _0x2108fd=_0x28e991;let _0x1c764e,_0xf6d9e8;if(_0x4dc69d=='preWelcome')_0x1c764e=Math[_0x2108fd(0x12e)]()*uWidth;else _0x1c764e=0xbb8;_0xf6d9e8=Math['random']()*0x640,clouds[_0x2108fd(0x10e)](new Cloud({'position':{'x':_0x1c764e,'y':_0xf6d9e8}}));}function generateWind(){const _0x3899d5=_0x28e991;currentFrame%windLength==0x0&&winds['push'](new Wind({'position':{'x':-0x64,'y':Math[_0x3899d5(0x12e)]()*uHeight},'radius':0x64})),currentFrame%windLength==Math[_0x3899d5(0x130)](windLength/0x4)&&winds[_0x3899d5(0x10e)](new Wind({'position':{'x':Math[_0x3899d5(0x12e)]()*uWidth,'y':-0x64},'radius':0x64})),currentFrame%windLength==Math[_0x3899d5(0x130)](windLength/0x2)&&winds[_0x3899d5(0x10e)](new Wind({'position':{'x':uWidth+0x64,'y':Math['random']()*uHeight},'radius':0x64})),currentFrame%windLength==Math[_0x3899d5(0x130)](windLength*0x3/0x4)&&winds[_0x3899d5(0x10e)](new Wind({'position':{'x':Math[_0x3899d5(0x12e)]()*uWidth,'y':uHeight+0x64},'radius':0x64}));}function generateBomb(){const _0x531304=_0x28e991;if(currentFrame%bombLength==0xa)while(!![]){let _0x3171d3=new Bomb({'position':{'x':Math[_0x531304(0x12e)]()*uWidth,'y':Math['random']()*uHeight},'radius':0x64}),_0x2dd261=distance(_0x3171d3[_0x531304(0x10c)],player['position']);if(_0x2dd261>player[_0x531304(0x157)]*0x2+_0x3171d3[_0x531304(0x157)]){bombs[_0x531304(0x10e)](_0x3171d3);return;}}}function updateClouds(){const _0x188896=_0x28e991;if(clouds[_0x188896(0x11e)]<cloudNumber)generateCloud();clouds[_0x188896(0x142)]((_0x205dde,_0x464948)=>{const _0x3a234c=_0x188896;_0x205dde[_0x3a234c(0x10c)]['x']+0x3e8<0x0?setTimeout(()=>{const _0x47d6a1=_0x3a234c;clouds[_0x47d6a1(0x11c)](_0x464948,0x1);},0x0):_0x205dde[_0x3a234c(0x100)]();});}function updateWaves(_0x1d9ace){const _0x4aece9=_0x28e991;if(waves['length']<waveNumber)generateWave(_0x1d9ace);if(_0x1d9ace=='lose')c[_0x4aece9(0x152)]=0.005;else c[_0x4aece9(0x152)]=0.15;waves[_0x4aece9(0x142)]((_0x19bccc,_0x6a0314)=>{const _0x563d32=_0x4aece9;if(_0x1d9ace==_0x563d32(0x16b))_0x19bccc['x']-=_0x19bccc[_0x563d32(0x148)]*0x3;else _0x19bccc['x']-=_0x19bccc[_0x563d32(0x148)];(_0x19bccc['x']>uWidth+0x64||_0x19bccc['x']<-_0x19bccc['waveLength']-0x64)&&setTimeout(()=>{const _0x5051ec=_0x563d32;waves[_0x5051ec(0x11c)](_0x6a0314,0x1);},0x0);c['beginPath'](),c[_0x563d32(0x153)](_0x19bccc['x'],_0x19bccc['y']),c[_0x563d32(0xf2)]=_0x563d32(0x13d),c[_0x563d32(0xed)]=_0x563d32(0x143),c['lineTo'](_0x19bccc['x']+_0x19bccc['waveLength'],_0x19bccc['y']);if(_0x1d9ace==_0x563d32(0x127))c[_0x563d32(0x139)]=0x28;else c[_0x563d32(0x139)]=0xa;c[_0x563d32(0x170)]();}),c[_0x4aece9(0x152)]=0x1;}function updateWinds(){const _0x4f7881=_0x28e991;winds[_0x4f7881(0x142)]((_0x43f1fd,_0x5620c7)=>{const _0x47e52d=_0x4f7881;_0x43f1fd[_0x47e52d(0x100)](),(_0x43f1fd[_0x47e52d(0x10c)]['x']+_0x43f1fd[_0x47e52d(0x157)]<-windMargin||_0x43f1fd['position']['x']-_0x43f1fd[_0x47e52d(0x157)]>uWidth+windMargin||_0x43f1fd[_0x47e52d(0x10c)]['y']+_0x43f1fd[_0x47e52d(0x157)]<-windMargin||_0x43f1fd[_0x47e52d(0x10c)]['y']-_0x43f1fd[_0x47e52d(0x157)]>uHeight+windMargin)&&setTimeout(()=>{const _0x9ee5c5=_0x47e52d;winds[_0x9ee5c5(0x11c)](_0x5620c7,0x1);},0x0);});}function updateBombs(){const _0x399197=_0x28e991;bombs[_0x399197(0x142)]((_0x19a2c7,_0x5837a6)=>{const _0x298482=_0x399197;performance[_0x298482(0x133)]()-_0x19a2c7[_0x298482(0x123)]>=bombDuration&&setTimeout(()=>{const _0xfca975=_0x298482;bombs[_0xfca975(0x11c)](_0x5837a6,0x1);},0x0),_0x19a2c7['update']();});}function generateBubbles(){const _0x3f7a67=_0x28e991;Math[_0x3f7a67(0x12e)]()>0.993&&bubbles[_0x3f7a67(0x10e)](new Circle({'position':{'x':Math[_0x3f7a67(0x12e)]()*uWidth,'y':uHeight+0x64},'radius':Math['random']()*0xa+0xa}));}function _0xd023(){const _0x181b42=['遊戲結束','lineWidth','min','./img/boat.png','atan','round','preTransition','drawImage','addColorStop','./img/windKnife.png','forEach','white','28097MIPKkQ','top','addEventListener','font','speed','pageX','83px\x20Noto\x20Sans\x20TC','scale','touchend','DOMContentLoaded','Last\x20game','rgba(255,165,0,1)','touches','preWelcome','globalAlpha','moveTo','sqrt','rgba(92,236,255,1)','waveLength','radius','orange','2609140GQVQwi','18aoQLcw','33xcSbKd','lineTo','hit','rgba(20,20,20,1)','./img/jumbo_sink.png','80px\x20Noto\x20Sans\x20TC','40QRkSej','touchmove','rgba(225,225,225,0.2)','sink','148776TjigCj','Game\x20Over','lineJoin','567BilwKN','color','y\x20o\x20u\x20\x20\x20c\x20a\x20n\x20\x20\x20g\x20o\x20!','welcome','arc','frames','rgba(174,255,249,1)','strokeColor','stroke','preLose','fillStyle','3228pnbuQB','src','image','290px\x20Noto\x20Sans\x20TC','transition','fill','Best\x20game','imageSrc','strokeStyle','move','76px\x20Noto\x20Sans\x20TC','透\x20過\x20撳\x20你\x20想\x20去\x20嘅\x20位\x20置\x20控\x20制\x20海\x20鮮\x20舫\x20移\x20動\x20嘅','strokeText','lineCap','Goodbye,\x20Floating\x20Restaurant','motions','82px\x20Noto\x20Sans\x20TC','./img/jumbo.png','隨\x20\x20便\x20\x20撳\x20\x20個\x20\x20位\x20\x20開\x20\x20始\x20\x20啦','fillText','atan2','frameSlow','213px\x20Noto\x20Sans\x20TC','rgba(225,225,225,0.3)','abs','./img/bottom.jpg','querySelector','update','touchstart','./img/wind_new.png','110px\x20Noto\x20Sans\x20TC','./img/clouds.png','removeEventListener','rgba(30,30,30,1)','84592KEzhUE','g\x20o\x20,\x20\x20\x20y\x20o\x20u\x20\x20\x20c\x20a\x20n\x20\x20\x20c\x20o\x20n\x20t\x20r\x20o\x20l\x20\x20\x20t\x20h\x20e\x20\x20\x20d\x20i\x20r\x20e\x20c\x20t\x20i\x20o\x20n\x20\x20\x20o\x20f\x20\x20\x20t\x20h\x20e','5652835RiTCPI','mousedown','rgba(0,88,147,1)','position','109px\x20Noto\x20Sans\x20TC','push','方\x20向\x20，\x20協\x20助\x20佢\x20避\x20開\x20危\x20險\x20。\x20睇\x20下\x20你\x20可\x20以\x20堅','再見海鮮舫','clientX','beginPath','sin','B\x20y\x20\x20\x20t\x20a\x20p\x20p\x20i\x20n\x20g\x20\x20\x20o\x20n\x20\x20\x20t\x20h\x20e\x20\x20\x20\x20p\x20o\x20s\x20i\x20t\x20i\x20o\x20n\x20\x20\x20y\x20o\x20u\x20\x20\x20w\x20a\x20n\x20t\x20\x20\x20t\x20o','200px\x20Noto\x20Sans\x20TC','createLinearGradient','今次時間','cos','draw','22211ogaWUI','getBoundingClientRect','splice','./img/blast.png','length','width','currentMotion','Eddy\x20Sham\x202022','1115256TDcAAB','startTime','持\x20到\x20幾\x20耐\x20！','play','getContext','lose','wind','frameCurrent','left','applyMotion','frameWidth','fillRect','random','height','trunc','81px\x20Noto\x20Sans\x20TC','Start','now','choooseMotion','direction','mouseup','bomb'];_0xd023=function(){return _0x181b42;};return _0xd023();}function updateBubbles(){bubbles['forEach']((_0x20d880,_0xf06440)=>{const _0x5ac8a7=_0x27a5;if(_0x20d880[_0x5ac8a7(0x10c)]['y']-_0x20d880[_0x5ac8a7(0x157)]<-0x32)setTimeout(()=>{const _0x3509b3=_0x5ac8a7;bubbles[_0x3509b3(0x11c)](_0xf06440,0x1);},0x0);else _0x20d880['update']();});}function collisionDetection(){const _0x2d3228=_0x28e991;if(gameCondition!==_0x2d3228(0x125))return;let _0x5c40fb=[winds,bombs];_0x5c40fb[_0x2d3228(0x142)]((_0xeb902a,_0x2542e8)=>{_0xeb902a['forEach']((_0x1c78d3,_0x3edeac)=>{const _0x5ee264=_0x27a5;let _0x5559b2=Math['atan2'](_0x1c78d3[_0x5ee264(0x10c)]['y']-player[_0x5ee264(0x10c)]['y'],player[_0x5ee264(0x10c)]['x']-_0x1c78d3[_0x5ee264(0x10c)]['x']);if(_0x5559b2>=Math[_0x5ee264(0x13c)]((0.5+_0x1c78d3['radius']/player[_0x5ee264(0x157)])/(Math[_0x5ee264(0x154)](0x3)/0x2))&&_0x5559b2<=Math['PI']-Math[_0x5ee264(0x13c)]((0.5+_0x1c78d3['radius']/player[_0x5ee264(0x157)])/(Math['sqrt'](0x3)/0x2))){if(distance(_0x1c78d3[_0x5ee264(0x10c)],player['position'])<(_0x1c78d3[_0x5ee264(0x157)]+player[_0x5ee264(0x157)]/0x2)/Math[_0x5ee264(0x113)](_0x5559b2)){if(_0x2542e8==0x0)setHit(_0x5ee264(0x128));else _0x2542e8==0x1&&setHit('bomb');setTimeout(()=>{const _0x2ea0c5=_0x5ee264;_0xeb902a[_0x2ea0c5(0x11c)](_0x3edeac,0x1);},0x0);}}else{if(_0x5559b2<=Math[_0x5ee264(0x13c)]((0.5+_0x1c78d3[_0x5ee264(0x157)]/player[_0x5ee264(0x157)])/(Math[_0x5ee264(0x154)](0x3)/0x2))&&_0x5559b2>=Math['PI']/0x6){let _0x22b75f=_0x5559b2-Math['PI']/0x6;if(distance(_0x1c78d3[_0x5ee264(0x10c)],player[_0x5ee264(0x10c)])<_0x1c78d3[_0x5ee264(0x157)]+player['radius']-(_0x1c78d3['radius']+player[_0x5ee264(0x157)])*_0x22b75f**0x2){if(_0x2542e8==0x0)setHit(_0x5ee264(0x128));else _0x2542e8==0x1&&setHit('bomb');setTimeout(()=>{_0xeb902a['splice'](_0x3edeac,0x1);},0x0);}}else{if(_0x5559b2>=Math['PI']-Math[_0x5ee264(0x13c)]((0.5+_0x1c78d3['radius']/player[_0x5ee264(0x157)])/(Math[_0x5ee264(0x154)](0x3)/0x2))&&_0x5559b2<=Math['PI']*0x5/0x6){let _0x3484ec=Math['PI']*0x5/0x6-_0x5559b2;if(distance(_0x1c78d3[_0x5ee264(0x10c)],player[_0x5ee264(0x10c)])<_0x1c78d3[_0x5ee264(0x157)]+player['radius']-(_0x1c78d3['radius']+player[_0x5ee264(0x157)])*_0x3484ec**0x2){if(_0x2542e8==0x0)setHit(_0x5ee264(0x128));else _0x2542e8==0x1&&setHit(_0x5ee264(0x137));setTimeout(()=>{const _0x19b167=_0x5ee264;_0xeb902a[_0x19b167(0x11c)](_0x3edeac,0x1);},0x0);}}else{if(distance(_0x1c78d3['position'],player[_0x5ee264(0x10c)])<_0x1c78d3['radius']+player[_0x5ee264(0x157)]){if(_0x2542e8==0x0)setHit(_0x5ee264(0x128));else _0x2542e8==0x1&&setHit(_0x5ee264(0x137));setTimeout(()=>{const _0x3d362d=_0x5ee264;_0xeb902a[_0x3d362d(0x11c)](_0x3edeac,0x1);},0x0);}}}}});});}function difficulty(){const _0x392dbb=_0x28e991;let _0x3b27a5=Math[_0x392dbb(0x130)](currentElapsedTime)/0x1e/0x3e8;bombLength=0x190-Math[_0x392dbb(0x130)](_0x3b27a5**0.8)*0x14,windLength=0xf0-Math['trunc'](_0x3b27a5**0.8)*0x14;if(bombLength<0x14)bombLength=0x14;if(windLength<0xa)windLength=0xa;}function timeToString(_0x3a7457){const _0x1142b7=_0x28e991;second=Math[_0x1142b7(0x130)](_0x3a7457/0x3e8)%0x3c,minute=Math['trunc'](_0x3a7457/0xea60),millisecond=Math[_0x1142b7(0x130)](_0x3a7457)%0x3e8;if(minute<0xa)minStr='0'+minute;else minStr=minute;if(second<0xa)secStr='0'+second;else secStr=second;millisecStr=Math[_0x1142b7(0x130)](millisecond/0x64);}function drawTimer(){const _0x26e1cf=_0x28e991;c[_0x26e1cf(0x172)]=_0x26e1cf(0x163),c['fillRect'](0x76c,0x87,0x1ef,0x93);if(gameCondition==_0x26e1cf(0x125))timeToString(currentElapsedTime);else gameCondition=='hit'&&timeToString(totalElapsedTime);displayStr=minStr+':'+secStr+'.'+millisecStr,c[_0x26e1cf(0x172)]=_0x26e1cf(0x158),c[_0x26e1cf(0x147)]=_0x26e1cf(0x103),c[_0x26e1cf(0xf8)](displayStr,0x79e,0xfa);}function animate(){const _0x21c8db=_0x28e991;requestAnimationFrame(animate),timeNow=performance[_0x21c8db(0x133)]();if(timeNow-timeThen<fpsInterval)return;if(timeNow-timeLast<0x32)sessionElapsedTime=performance[_0x21c8db(0x133)]()-sessionStartTime;else previousTime+=sessionElapsedTime,sessionStartTime=performance[_0x21c8db(0x133)]();currentElapsedTime=sessionElapsedTime+previousTime,currentFrame+=0x1,background();switch(gameCondition){case'welcome':welcomeUpdate();break;case'transition':transitionUpdate();break;case _0x21c8db(0x125):playUpdate();break;case _0x21c8db(0x15d):hitUpdate();break;case _0x21c8db(0x127):loseUpdate();break;}timeThen+=fpsInterval,timeLast=timeNow;}function setWelcome(){const _0x6f3547=_0x28e991;for(i=0x0;i<waveNumber;i++){generateWave('preWelcome');}for(i=0x0;i<cloudNumber;i++){generateCloud(_0x6f3547(0x151));}playerPre=new Ship({'position':{'x':0x2bc,'y':0x7d0},'motions':{'move':{'imageSrc':_0x6f3547(0xf6),'scale':0x1,'frames':0x2,'frameCurrent':0x1,'frameSlow':0x14,'frameWidth':0x2ee}}}),tugboat=new Ship({'position':{'x':0x708,'y':playerPre[_0x6f3547(0x10c)]['y']+0x5a},'motions':{'move':{'imageSrc':'./img/boat.png','scale':0x1,'frames':0x2,'frameCurrent':0x1,'frameSlow':0x14,'frameWidth':0x2ee}}});}function welcomeUpdate(){const _0x4f13f4=_0x28e991;var _0x2f10ef=c[_0x4f13f4(0x116)](0x0,0x0,0x0,0x7d0);_0x2f10ef[_0x4f13f4(0x140)](0x0,_0x4f13f4(0x155)),_0x2f10ef[_0x4f13f4(0x140)](0x1,_0x4f13f4(0x16e)),c[_0x4f13f4(0x172)]=_0x2f10ef,c[_0x4f13f4(0x12d)](0x0,0x0,0x9c4,0x7d0),updateClouds(),updateWaves(_0x4f13f4(0x16b)),c[_0x4f13f4(0xed)]=_0x4f13f4(0x143),c['lineWidth']=0x28,c[_0x4f13f4(0x167)]='round',c[_0x4f13f4(0x147)]='248px\x20Noto\x20Sans\x20TC',c[_0x4f13f4(0xf1)](_0x4f13f4(0x110),0x258,0x366),c[_0x4f13f4(0x172)]=_0x4f13f4(0x14f),c[_0x4f13f4(0xf8)](_0x4f13f4(0x110),0x258,0x366),c[_0x4f13f4(0x147)]=_0x4f13f4(0x14a),c[_0x4f13f4(0xf1)](_0x4f13f4(0xf3),0x25d,0x3fc),c[_0x4f13f4(0xf8)](_0x4f13f4(0xf3),0x25d,0x3fc),c['fillStyle']=_0x4f13f4(0x106),c['font']=_0x4f13f4(0x10d),c[_0x4f13f4(0xf8)](_0x4f13f4(0xf7),0x258,0x514),c['font']=_0x4f13f4(0xef),c[_0x4f13f4(0xf8)]('T\x20a\x20p\x20\x20\x20\x20a\x20n\x20y\x20w\x20h\x20e\x20r\x20e\x20\x20\x20\x20t\x20o\x20\x20\x20\x20s\x20t\x20a\x20r\x20t',0x258,0x578),c[_0x4f13f4(0x172)]=_0x4f13f4(0x143),c[_0x4f13f4(0x147)]='65px\x20Noto\x20Sans\x20TC',c[_0x4f13f4(0xf8)](_0x4f13f4(0x121),0x64,0x960);let _0x2694c6=[playerPre,tugboat];playerPre[_0x4f13f4(0x120)]=playerPre[_0x4f13f4(0xf4)][_0x4f13f4(0xee)],tugboat['currentMotion']=tugboat[_0x4f13f4(0xf4)]['move'],c[_0x4f13f4(0xed)]=_0x4f13f4(0x15e),c[_0x4f13f4(0x139)]=0x8,c['beginPath'](),c[_0x4f13f4(0x153)](tugboat[_0x4f13f4(0x10c)]['x'],tugboat[_0x4f13f4(0x10c)]['y']),c[_0x4f13f4(0x15c)](playerPre[_0x4f13f4(0x10c)]['x'],playerPre[_0x4f13f4(0x10c)]['y']),c['stroke'](),_0x2694c6[_0x4f13f4(0x142)](_0x2a320b=>{const _0x31b2c0=_0x4f13f4;_0x2a320b['applyMotion'](),_0x2a320b[_0x31b2c0(0x119)]();});}function setTransition(){const _0x5e03cc=_0x28e991;gameCondition='transition',playerPre=new Ship({'position':{'x':-0x258,'y':uHeight/0x2},'motions':{'move':{'imageSrc':_0x5e03cc(0xf6),'scale':0x8/0xf,'frames':0x2,'frameCurrent':0x1,'frameSlow':0x14,'frameWidth':0x2ee}}}),tugboat=new Ship({'position':{'x':playerPre[_0x5e03cc(0x10c)]['x']+0x1f4,'y':playerPre['position']['y']+0x32},'motions':{'move':{'imageSrc':_0x5e03cc(0x13b),'scale':0x8/0xf,'frames':0x2,'frameCurrent':0x1,'frameSlow':0x14,'frameWidth':0x2ee}}}),waves=[];for(i=0x0;i<waveNumber;i++){generateWave(_0x5e03cc(0x13e));}}function transitionUpdate(){const _0x1327b1=_0x28e991;updateWaves(_0x1327b1(0xe9));let _0x619ea1=[playerPre,tugboat];playerPre[_0x1327b1(0x10c)]['x']<uWidth/0x2&&(playerPre[_0x1327b1(0x10c)]['x']+=0xa),tugboat['position']['x']+=0xa,playerPre[_0x1327b1(0x120)]=playerPre[_0x1327b1(0xf4)][_0x1327b1(0xee)],tugboat[_0x1327b1(0x120)]=tugboat[_0x1327b1(0xf4)][_0x1327b1(0xee)],playerPre['position']['x']<uWidth/0x2&&(c[_0x1327b1(0xed)]=_0x1327b1(0x15e),c['lineWidth']=0x4,c[_0x1327b1(0x112)](),c['moveTo'](tugboat[_0x1327b1(0x10c)]['x'],tugboat['position']['y']),c['lineTo'](playerPre[_0x1327b1(0x10c)]['x'],playerPre[_0x1327b1(0x10c)]['y']),c['stroke']()),_0x619ea1[_0x1327b1(0x142)](_0x5044ce=>{const _0xbfd277=_0x1327b1;_0x5044ce[_0xbfd277(0x12b)](),_0x5044ce[_0xbfd277(0x119)]();}),tugboat[_0x1327b1(0x10c)]['x']<0x9f6&&(c[_0x1327b1(0x172)]=_0x1327b1(0x143),c[_0x1327b1(0x147)]=_0x1327b1(0x160),c[_0x1327b1(0xf8)](_0x1327b1(0xf0),0x190,0x190),c[_0x1327b1(0xf8)](_0x1327b1(0x10f),0x190,0x226),c['fillText'](_0x1327b1(0x124),0x190,0x2bc),c['font']='60px\x20Noto\x20Sans\x20TC',c[_0x1327b1(0xf8)](_0x1327b1(0x114),0x190,0x708),c['fillText'](_0x1327b1(0x108),0x190,0x76c),c['fillText']('f\x20l\x20o\x20a\x20t\x20i\x20n\x20g\x20\x20\x20r\x20e\x20s\x20t\x20a\x20u\x20r\x20a\x20n\x20t\x20.\x20\x20\x20L\x20e\x20t\x20\x27\x20s\x20\x20\x20s\x20e\x20e\x20\x20\x20h\x20o\x20w\x20\x20\x20l\x20o\x20n\x20g',0x190,0x7d0),c[_0x1327b1(0xf8)](_0x1327b1(0x16a),0x190,0x834)),tugboat[_0x1327b1(0x10c)]['x']>0x9f6&&(c[_0x1327b1(0x147)]='500px\x20Noto\x20Sans\x20TC',c[_0x1327b1(0x172)]=_0x1327b1(0x143),c[_0x1327b1(0x139)]=0x78,c[_0x1327b1(0x167)]=_0x1327b1(0x13d),c[_0x1327b1(0xf1)]('開始',0x320,0x4e2),c[_0x1327b1(0x172)]=_0x1327b1(0x158),c[_0x1327b1(0xf8)]('開始',0x320,0x4e2),c[_0x1327b1(0x172)]=_0x1327b1(0x143),c['font']='405px\x20Noto\x20Sans\x20TC',c[_0x1327b1(0xf1)](_0x1327b1(0x132),0x334,0x672),c[_0x1327b1(0x172)]='orange',c[_0x1327b1(0xf8)](_0x1327b1(0x132),0x334,0x672)),tugboat[_0x1327b1(0x10c)]['x']>uWidth+0x190&&setPlay();}function setPlay(){const _0x590ddd=_0x28e991;playedTimes+=0x1,gameCondition='play',currentElapsedTime=0x0,previousTime=0x0,sessionStartTime=performance[_0x590ddd(0x133)](),windLength=0xf0,bombLength=0x190,player=new Jumbo({'position':{'x':uWidth/0x2,'y':uHeight/0x2},'radius':0xc8,'motions':{'move':{'imageSrc':'./img/jumbo.png','scale':0x8/0xf,'frames':0x2,'frameSlow':0x14,'frameWidth':0x2ee},'sink':{'imageSrc':_0x590ddd(0x15f),'scale':0x8/0xf,'frames':0x8,'frameSlow':0xf,'frameWidth':0x2ee}}}),target=new Location({'position':{'x':player[_0x590ddd(0x10c)]['x'],'y':player['position']['y']}}),winds=[],bombs=[],hitWinds=[],bubbles=[];}function playUpdate(){const _0x727fef=_0x28e991;updateWaves('play'),difficulty(),generateWind(),generateBomb(),player[_0x727fef(0x134)](),player['update'](),updateBombs(),updateWinds(),drawTimer(),collisionDetection();}function setHit(_0x5275c8){const _0x3ddc65=_0x28e991;gameCondition=_0x3ddc65(0x15d),totalElapsedTime=currentElapsedTime,player['frameCurrent']=0x1;if(_0x5275c8=='wind')hitWinds[_0x3ddc65(0x10e)](new Attack({'position':{'x':player[_0x3ddc65(0x10c)]['x'],'y':player[_0x3ddc65(0x10c)]['y']},'imageSrc':_0x3ddc65(0x141)}));if(_0x5275c8==_0x3ddc65(0x137))hitWinds['push'](new Attack({'position':{'x':player[_0x3ddc65(0x10c)]['x'],'y':player['position']['y']},'imageSrc':_0x3ddc65(0x11d)}));}function hitUpdate(){const _0x5cf9c8=_0x28e991;updateWaves(_0x5cf9c8(0x15d)),player[_0x5cf9c8(0x134)](),player[_0x5cf9c8(0x100)]();if(hitWinds[_0x5cf9c8(0x11e)]>0x0)hitWinds[0x0][_0x5cf9c8(0x100)]();updateBombs(),updateWinds(),drawTimer();}function timeArrayTostring(_0x2c1348){const _0x398dd5=_0x28e991;let _0x98394b,_0x49f74f,_0x1afbc7;if(_0x2c1348[0x0]<0xa)_0x98394b='0'+_0x2c1348[0x0];else _0x98394b=_0x2c1348[0x0];if(_0x2c1348[0x1]<0xa)_0x49f74f='0'+_0x2c1348[0x1];else _0x49f74f=_0x2c1348[0x1];return _0x1afbc7=Math[_0x398dd5(0x130)](_0x2c1348[0x2]/0x64),_0x98394b+':'+_0x49f74f+'.'+_0x1afbc7;}function setLose(){const _0x1aa03a=_0x28e991;gameCondition=_0x1aa03a(0x127),lastTime=[minute,second,millisecond];minute*0x3c+second+millisecond/0x3e8>bestTime[0x0]*0x3c+bestTime[0x1]+bestTime[0x2]/0x3e8&&(bestTime=[minute,second,millisecond]);lastTimeStr=timeArrayTostring(lastTime),bestTimeStr=timeArrayTostring(bestTime),losePicture=new StillImage({'x':0x0,'y':0x0,'width':uWidth,'height':uHeight,'imageSrc':_0x1aa03a(0xfe)}),waves=[];for(i=0x0;i<waveNumber;i++){generateWave(_0x1aa03a(0x171));}}function loseUpdate(){const _0x547b10=_0x28e991;losePicture[_0x547b10(0x119)](),updateWaves(_0x547b10(0x127)),generateBubbles(),updateBubbles(),c[_0x547b10(0xed)]=_0x547b10(0x143),c['lineWidth']=0x32,c['lineJoin']=_0x547b10(0x13d),c['font']=_0x547b10(0x176),c[_0x547b10(0xf1)](_0x547b10(0x138),0x29e,0x320),c[_0x547b10(0x172)]=_0x547b10(0x158),c['fillText'](_0x547b10(0x138),0x29e,0x320),c[_0x547b10(0x147)]=_0x547b10(0xfb),c[_0x547b10(0xf1)](_0x547b10(0x166),0x29e,0x44c),c[_0x547b10(0xf8)](_0x547b10(0x166),0x29e,0x44c),c['fillStyle']='white',c['font']='101px\x20Noto\x20Sans\x20TC',c['fillText'](_0x547b10(0x117),0x280,0x5be),c['fillText']('最佳時間',0x280,0x71c),c[_0x547b10(0x147)]=_0x547b10(0xf5),c['fillText'](_0x547b10(0x14e),0x280,0x62c),c[_0x547b10(0x147)]=_0x547b10(0x131),c[_0x547b10(0xf8)](_0x547b10(0xeb),0x280,0x78a),c[_0x547b10(0x147)]=_0x547b10(0x115),c[_0x547b10(0xf8)](lastTimeStr,0x4b0,0x60e),c[_0x547b10(0xf8)](bestTimeStr,0x4b0,0x76c);}function handleDown(_0x387f89){const _0x2a5387=_0x28e991;var _0x4b4a30,_0x1ce6a8;const _0x5ed7e2=canvas['getBoundingClientRect']();_0x4b4a30=(_0x387f89[_0x2a5387(0x111)]-_0x5ed7e2[_0x2a5387(0x12a)])/ratio,_0x1ce6a8=(_0x387f89['clientY']-_0x5ed7e2[_0x2a5387(0x145)])/ratio,controlSettings(_0x4b4a30,_0x1ce6a8);}function handleStart(_0x4a1d6f){const _0x469744=_0x28e991;canvas[_0x469744(0x105)](_0x469744(0x10a),handleDown);var _0x5414d4,_0x1046c5;const _0x4a5a23=canvas[_0x469744(0x11b)]();_0x5414d4=(_0x4a1d6f[_0x469744(0x150)][0x0][_0x469744(0x149)]-_0x4a5a23[_0x469744(0x12a)])/ratio,_0x1046c5=(_0x4a1d6f[_0x469744(0x150)][0x0]['pageY']-_0x4a5a23[_0x469744(0x145)])/ratio,controlSettings(_0x5414d4,_0x1046c5);}function controlSettings(_0x128fe7,_0x5c2585){const _0x43f017=_0x28e991;if(gameCondition==_0x43f017(0x16b)||gameCondition==_0x43f017(0x127))setTransition();else gameCondition==_0x43f017(0x125)&&(target[_0x43f017(0x10c)]['x']=_0x128fe7,target['position']['y']=_0x5c2585);}function handleEnd(){}function handleMove(){}function handleCancel(){}function handleUp(){}function startup(){const _0x35b744=_0x28e991;canvas['addEventListener'](_0x35b744(0x101),handleStart),canvas['addEventListener'](_0x35b744(0x14c),handleEnd),canvas['addEventListener']('touchcancel',handleCancel),canvas[_0x35b744(0x146)](_0x35b744(0x162),handleMove),canvas[_0x35b744(0x146)](_0x35b744(0x136),handleUp),canvas[_0x35b744(0x146)]('mousedown',handleDown),setWelcome(),animate();}document[_0x28e991(0x146)](_0x28e991(0x14d),startup);